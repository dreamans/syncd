{"version":3,"sources":["webpack:///./src/api/project.js","webpack:///./src/view/deploy/Apply.vue?b96d","webpack:///src/view/deploy/Apply.vue","webpack:///./src/view/deploy/Apply.vue?0fbd","webpack:///./src/view/deploy/Apply.vue","webpack:///./src/api/deploy.js","webpack:///./node_modules/core-js/modules/es6.function.name.js"],"names":["__webpack_require__","d","__webpack_exports__","newSpaceApi","updateSpaceApi","listSpaceApi","detailSpaceApi","deleteSpaceApi","searchMemberApi","addMemberApi","listMemberApi","removeMemberApi","newProjectApi","updateProjectApi","listProjectApi","switchStatusProjectApi","detailProjectApi","deleteProjectApi","updateBuildScriptApi","updateHookScriptApi","_lib_fetch_js__WEBPACK_IMPORTED_MODULE_0__","data","post","params","get","render","_vm","this","_h","$createElement","_c","_self","attrs","shadow","ref","staticClass","model","form","size","label-width","label","$t","prop","rules","required","message","trigger","filterable","placeholder","on","change","changeSpaceHandler","value","callback","$$v","$set","expression","_l","space","key","id","name","proj","icon","type","click","openDialogHandler","_v","_s","width","$root","DialogNormalWidth","title","visible","dialogVisible","update:visible","$event","close","closeDialogHandler","directives","rawName","dialogForm","projectDetail","autocomplete","deploy_mode","repo_branch","_e","rows","staticStyle","r","slot","loading","btnLoading","dialogSubmitHandler","staticRenderFns","Applyvue_type_script_lang_js_","space_id","undefined","project_id","spaceList","projectList","rollbackList","dialogLoading","methods","_this","$refs","dialogRef","validate","valid","postData","branch_name","description","commit_version","rollback_id","Object","deploy","then","res","$alert","confirmButtonText","action","$router","push","catch","err","_this2","formRef","spaceId","loadProjectList","loadSpaceList","_this3","project","offset","limit","list","_this4","mounted","deploy_Applyvue_type_script_lang_js_","component","componentNormalizer","options","__file","applyProjectDetailApi","applySubmitApi","applyProjectAllApi","applyListApi","applyDetailApi","applyAuditApi","applyUpdateApi","applyDropApi","applyRollbackListApi","buildStartApi","buildStatusApi","buildStopApi","deployStart","deployStatusApi","deployStopApi","deployRollbackApi","dP","f","FProto","Function","prototype","nameRE","NAME","configurable","match","e"],"mappings":"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","file":"js/chunk-162ff1ff.15a23fae.js","sourcesContent":["import {get, post} from '@/lib/fetch.js'\n\nexport function newSpaceApi(data) {\n    return post('/project/space/add', data)\n}\n\nexport function updateSpaceApi(data) {\n    return post('/project/space/update', data)\n}\n\nexport function listSpaceApi(params) {\n    return get('/project/space/list', params)\n}\n\nexport function detailSpaceApi(params) {\n    return get('/project/space/detail', params)\n}\n\nexport function deleteSpaceApi(data) {\n    return post('/project/space/delete', data)\n}\n\nexport function searchMemberApi(params) {\n    return get('/project/member/search', params)\n}\n\nexport function addMemberApi(data) {\n    return post('/project/member/add', data)\n}\n\nexport function listMemberApi(params) {\n    return get('/project/member/list', params)\n}\n\nexport function removeMemberApi(data) {\n    return post('/project/member/remove', data)\n}\n\nexport function newProjectApi(data) {\n    return post('/project/add', data)\n}\n\nexport function updateProjectApi(data) {\n    return post('/project/update', data)\n}\n\nexport function listProjectApi(params) {\n    return get('/project/list', params)\n}\n\nexport function switchStatusProjectApi(data) {\n    return post('/project/switchstatus', data)\n}\n\nexport function detailProjectApi(params) {\n    return get('/project/detail', params)\n}\n\nexport function deleteProjectApi(data) {\n    return post('/project/delete', data)\n}\n\nexport function updateBuildScriptApi(data) {\n    return post('/project/buildscript', data)\n}\n\nexport function updateHookScriptApi(data) {\n    return post('/project/hookscript', data)\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',{attrs:{\"shadow\":\"never\"}},[_c('el-form',{ref:\"formRef\",staticClass:\"app-form\",attrs:{\"model\":_vm.form,\"size\":\"medium\",\"label-width\":\"130px\"}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('select_project_space'),\"prop\":\"space_id\",\"rules\":[\n                    { required: true, message: _vm.$t('project_space_cannot_empty'), trigger: 'blur'} ]}},[_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":_vm.$t('please_input_keyword')},on:{\"change\":_vm.changeSpaceHandler},model:{value:(_vm.form.space_id),callback:function ($$v) {_vm.$set(_vm.form, \"space_id\", $$v)},expression:\"form.space_id\"}},_vm._l((_vm.spaceList),function(space){return _c('el-option',{key:space.id,attrs:{\"label\":space.name,\"value\":space.id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":_vm.$t('select_project'),\"prop\":\"project_id\",\"rules\":[\n                    { required: true, message: _vm.$t('project_cannot_empty'), trigger: 'blur'} ]}},[_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":_vm.$t('please_input_keyword')},model:{value:(_vm.form.project_id),callback:function ($$v) {_vm.$set(_vm.form, \"project_id\", $$v)},expression:\"form.project_id\"}},_vm._l((_vm.projectList),function(proj){return _c('el-option',{key:proj.id,attrs:{\"label\":proj.name,\"value\":proj.id}})}),1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"icon\":\"el-icon-edit-outline\\n\",\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.openDialogHandler}},[_vm._v(_vm._s(_vm.$t('input_apply_order')))])],1)],1)],1),_c('el-dialog',{attrs:{\"width\":_vm.$root.DialogNormalWidth,\"title\":_vm.$t('input_deploy_apply'),\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event},\"close\":_vm.closeDialogHandler}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.dialogLoading),expression:\"dialogLoading\"}],staticClass:\"app-dialog\"},[_c('el-form',{ref:\"dialogRef\",staticClass:\"app-form\",attrs:{\"model\":_vm.dialogForm,\"size\":\"medium\",\"label-width\":\"130px\"}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('project_name')}},[_vm._v(\"\\n                        \"+_vm._s(_vm.projectDetail.name)+\"\\n                    \")]),_c('el-form-item',{attrs:{\"label\":_vm.$t('apply_name'),\"prop\":\"name\",\"rules\":[\n                        { required: true, message: _vm.$t('name_cannot_empty'), trigger: 'blur'} ]}},[_c('el-input',{attrs:{\"placeholder\":_vm.$t('please_input_apply_name'),\"autocomplete\":\"off\"},model:{value:(_vm.dialogForm.name),callback:function ($$v) {_vm.$set(_vm.dialogForm, \"name\", $$v)},expression:\"dialogForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":_vm.$t('deploy_mode')}},[(_vm.projectDetail.deploy_mode == 1)?_c('span',[_c('i',{staticClass:\"iconfont icon-branch\"}),_vm._v(\" - \"+_vm._s(_vm.$t('branch_deploy'))),(_vm.projectDetail.repo_branch)?[_vm._v(\" - \"),_c('strong',[_vm._v(_vm._s(_vm.projectDetail.repo_branch))]),_vm._v(\" \"+_vm._s(_vm.$t('branch')))]:_vm._e()],2):_vm._e(),(_vm.projectDetail.deploy_mode == 2)?_c('span',[_c('i',{staticClass:\"iconfont icon-tag\"}),_vm._v(\" \"+_vm._s(_vm.$t('tag_deploy'))+\"\\n                        \")]):_vm._e()]),(_vm.projectDetail.deploy_mode == 2)?_c('el-form-item',{attrs:{\"label\":_vm.$t('tag_name'),\"prop\":\"branch_name\",\"rules\":[\n                        { required: true, message: _vm.$t('tag_name_cannot_empty'), trigger: 'blur'} ]}},[_c('el-input',{staticClass:\"app-input-mini\",attrs:{\"placeholder\":_vm.$t('please_input_tag_name'),\"autocomplete\":\"off\"},model:{value:(_vm.dialogForm.branch_name),callback:function ($$v) {_vm.$set(_vm.dialogForm, \"branch_name\", $$v)},expression:\"dialogForm.branch_name\"}})],1):_vm._e(),(_vm.projectDetail.deploy_mode == 1 && _vm.projectDetail.repo_branch == '')?_c('el-form-item',{attrs:{\"label\":_vm.$t('branch_name'),\"prop\":\"branch_name\",\"rules\":[\n                        { required: true, message: _vm.$t('branch_name_cannot_empty'), trigger: 'blur'} ]}},[_c('el-input',{staticClass:\"app-input-mini\",attrs:{\"placeholder\":_vm.$t('please_input_branch_name'),\"autocomplete\":\"off\"},model:{value:(_vm.dialogForm.branch_name),callback:function ($$v) {_vm.$set(_vm.dialogForm, \"branch_name\", $$v)},expression:\"dialogForm.branch_name\"}})],1):_vm._e(),(_vm.projectDetail.deploy_mode == 1)?_c('el-form-item',{attrs:{\"label\":_vm.$t('commit_version'),\"prop\":\"commit_version\"}},[_c('el-input',{staticClass:\"app-input-normal\",attrs:{\"placeholder\":_vm.$t('please_input_commit_version'),\"autocomplete\":\"off\"},model:{value:(_vm.dialogForm.commit_version),callback:function ($$v) {_vm.$set(_vm.dialogForm, \"commit_version\", $$v)},expression:\"dialogForm.commit_version\"}})],1):_vm._e(),_c('el-form-item',{attrs:{\"label\":_vm.$t('deploy_illustrate'),\"prop\":\"description\",\"rules\":[\n                        { required: true, message: _vm.$t('deploy_illustrate_cannot_empty'), trigger: 'blur'} ]}},[_c('el-input',{attrs:{\"rows\":4,\"type\":\"textarea\",\"placeholder\":_vm.$t('please_input_deploy_illustrate'),\"autocomplete\":\"off\"},model:{value:(_vm.dialogForm.description),callback:function ($$v) {_vm.$set(_vm.dialogForm, \"description\", $$v)},expression:\"dialogForm.description\"}})],1),_c('el-form-item',{attrs:{\"label\":_vm.$t('rollback_apply'),\"prop\":\"rollback_id\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"filterable\":\"\",\"placeholder\":_vm.$t('please_input_keyword')},model:{value:(_vm.dialogForm.rollback_id),callback:function ($$v) {_vm.$set(_vm.dialogForm, \"rollback_id\", $$v)},expression:\"dialogForm.rollback_id\"}},_vm._l((_vm.rollbackList),function(r){return _c('el-option',{key:r.id,attrs:{\"label\":'(ID:' + r.id + ') ' + r.name,\"value\":r.id}})}),1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.closeDialogHandler}},[_vm._v(_vm._s(_vm.$t('cancel')))]),_c('el-button',{attrs:{\"loading\":_vm.btnLoading,\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.dialogSubmitHandler}},[_vm._v(_vm._s(_vm.$t('enter')))])],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <el-card shadow=\"never\">\n            <el-form class=\"app-form\" ref=\"formRef\" :model=\"form\" size=\"medium\" label-width=\"130px\">\n                <el-form-item\n                :label=\"$t('select_project_space')\"\n                prop=\"space_id\"\n                :rules=\"[\n                    { required: true, message: $t('project_space_cannot_empty'), trigger: 'blur'},\n                ]\">\n                    <el-select\n                    @change=\"changeSpaceHandler\"\n                    v-model=\"form.space_id\" \n                    filterable \n                    :placeholder=\"$t('please_input_keyword')\">\n                        <el-option\n                        v-for=\"space in spaceList\"\n                        :key=\"space.id\"\n                        :label=\"space.name\"\n                        :value=\"space.id\">\n                        </el-option>\n                    </el-select>\n                </el-form-item>\n\n                <el-form-item \n                :label=\"$t('select_project')\"\n                prop=\"project_id\"\n                :rules=\"[\n                    { required: true, message: $t('project_cannot_empty'), trigger: 'blur'},\n                ]\">\n                    <el-select \n                    v-model=\"form.project_id\" \n                    filterable \n                    :placeholder=\"$t('please_input_keyword')\">\n                        <el-option\n                        v-for=\"proj in projectList\"\n                        :key=\"proj.id\"\n                        :label=\"proj.name\"\n                        :value=\"proj.id\">\n                        </el-option>\n                    </el-select>\n                </el-form-item>\n\n                <el-form-item>\n                    <el-button  icon=\"el-icon-edit-outline\n\" size=\"small\" type=\"primary\" @click=\"openDialogHandler\">{{ $t('input_apply_order') }}</el-button>\n                </el-form-item>\n\n            </el-form>\n        </el-card>\n        <el-dialog\n        :width=\"$root.DialogNormalWidth\"\n        :title=\"$t('input_deploy_apply')\"\n        :visible.sync=\"dialogVisible\"\n        @close=\"closeDialogHandler\">\n            <div class=\"app-dialog\" v-loading=\"dialogLoading\">\n                <el-form class=\"app-form\" ref=\"dialogRef\" :model=\"dialogForm\" size=\"medium\" label-width=\"130px\">\n                    <el-form-item \n                    :label=\"$t('project_name')\">\n                        {{ projectDetail.name }}\n                    </el-form-item>\n               \n                    <el-form-item \n                    :label=\"$t('apply_name')\"\n                    prop=\"name\"\n                    :rules=\"[\n                        { required: true, message: $t('name_cannot_empty'), trigger: 'blur'},\n                    ]\">\n                        <el-input :placeholder=\"$t('please_input_apply_name')\" v-model=\"dialogForm.name\" autocomplete=\"off\"></el-input>\n                    </el-form-item>\n\n                    <el-form-item :label=\"$t('deploy_mode')\">\n                        <span v-if=\"projectDetail.deploy_mode == 1\">\n                            <i class=\"iconfont icon-branch\"></i> - {{ $t('branch_deploy') }}<template v-if=\"projectDetail.repo_branch\"> - <strong>{{ projectDetail.repo_branch }}</strong> {{ $t('branch') }}</template>\n                        </span>\n                        <span v-if=\"projectDetail.deploy_mode == 2\">\n                            <i class=\"iconfont icon-tag\"></i> {{ $t('tag_deploy') }}\n                        </span>\n                    </el-form-item>\n\n                    <el-form-item \n                    v-if=\"projectDetail.deploy_mode == 2\"\n                    :label=\"$t('tag_name')\"\n                    prop=\"branch_name\"\n                    :rules=\"[\n                        { required: true, message: $t('tag_name_cannot_empty'), trigger: 'blur'},\n                    ]\">\n                        <el-input class=\"app-input-mini\" :placeholder=\"$t('please_input_tag_name')\" v-model=\"dialogForm.branch_name\" autocomplete=\"off\"></el-input>\n                    </el-form-item>\n\n                    <el-form-item \n                    v-if=\"projectDetail.deploy_mode == 1 && projectDetail.repo_branch == ''\"\n                    :label=\"$t('branch_name')\"\n                    prop=\"branch_name\"\n                    :rules=\"[\n                        { required: true, message: $t('branch_name_cannot_empty'), trigger: 'blur'},\n                    ]\">\n                        <el-input class=\"app-input-mini\" :placeholder=\"$t('please_input_branch_name')\" v-model=\"dialogForm.branch_name\" autocomplete=\"off\"></el-input>\n                    </el-form-item>\n\n                    <el-form-item \n                    v-if=\"projectDetail.deploy_mode == 1\"\n                    :label=\"$t('commit_version')\"\n                    prop=\"commit_version\">\n                        <el-input class=\"app-input-normal\" :placeholder=\"$t('please_input_commit_version')\" v-model=\"dialogForm.commit_version\" autocomplete=\"off\"></el-input>\n                    </el-form-item>\n\n                    <el-form-item \n                    :label=\"$t('deploy_illustrate')\"\n                    prop=\"description\"\n                    :rules=\"[\n                        { required: true, message: $t('deploy_illustrate_cannot_empty'), trigger: 'blur'},\n                    ]\">\n                        <el-input :rows=\"4\" type=\"textarea\" :placeholder=\"$t('please_input_deploy_illustrate')\" v-model=\"dialogForm.description\" autocomplete=\"off\"></el-input>\n                    </el-form-item>\n\n                    <el-form-item\n                    :label=\"$t('rollback_apply')\"\n                    prop=\"rollback_id\">\n                        <el-select \n                        v-model=\"dialogForm.rollback_id\" \n                        filterable \n                        style=\"width: 100%;\"\n                        :placeholder=\"$t('please_input_keyword')\">\n                            <el-option\n                            v-for=\"r in rollbackList\"\n                            :key=\"r.id\"\n                            :label=\"'(ID:' + r.id + ') ' + r.name\"\n                            :value=\"r.id\">\n                            </el-option>\n                        </el-select>\n                    </el-form-item>\n\n                 </el-form>\n                 <div slot=\"footer\" class=\"dialog-footer\">\n                    <el-button size=\"small\" @click=\"closeDialogHandler\">{{ $t('cancel') }}</el-button>\n                    <el-button :loading=\"btnLoading\" size=\"small\" type=\"primary\" @click=\"dialogSubmitHandler\">{{ $t('enter') }}</el-button>\n                </div>\n            </div>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\nimport { listSpaceApi, listProjectApi } from '@/api/project'\nimport { applyProjectDetailApi, applySubmitApi, applyRollbackListApi } from '@/api/deploy'\nexport default {\n    data() {\n        return {\n            form: {\n                space_id: undefined,\n                project_id: undefined,\n            },\n            spaceList: [],\n            projectList: [],\n            rollbackList: [],\n\n            dialogVisible: false,\n            dialogLoading: false,\n            dialogForm: {},\n            btnLoading: false,\n            projectDetail: {},\n        }\n    },\n    methods: {\n        dialogSubmitHandler() {\n            this.$refs.dialogRef.validate((valid) => {\n                if (!valid) {\n                    return false;\n                }\n                this.btnLoading = true\n                let postData = {\n                    project_id: this.form.project_id,\n                    space_id: this.form.space_id,\n                    name: this.dialogForm.name,\n                    branch_name: this.dialogForm.branch_name,\n                    description: this.dialogForm.description,\n                    commit_version: this.dialogForm.commit_version,\n                    rollback_id: this.dialogForm.rollback_id,\n                }\n                applySubmitApi(postData).then(res => {\n                    this.$alert(this.$t('deploy_apply_submit_success'), this.$t('submit_success'), {\n                        type: 'success',\n                        confirmButtonText: this.$t('enter'),\n                        callback: action => {\n                            this.closeDialogHandler()\n                            this.$router.push({name: 'deployDeploy'})\n                        }\n                    })\n                    this.btnLoading = false\n                }).catch(err => {\n                    this.btnLoading = false\n                })\n            })\n        },\n        openDialogHandler() {\n            this.$refs.formRef.validate((valid) => {\n                if (!valid) {\n                    return false;\n                }\n                applyProjectDetailApi({id: this.form.project_id}).then(res => {\n                    this.projectDetail = res\n                    this.dialogVisible = true\n                })\n                applyRollbackListApi({id: this.form.project_id}).then(res => {\n                    if (res) {\n                        this.rollbackList = res\n                    }\n                })\n            })\n        },\n        closeDialogHandler() {\n            this.dialogVisible = false\n        },\n        changeSpaceHandler(spaceId) {\n            this.form.project_id = undefined\n            this.loadProjectList(spaceId)\n        },\n        loadSpaceList() {\n            listSpaceApi({offset: 0, limit : 999}).then(res => {\n                if (res.list) {\n                    this.spaceList = res.list\n                }\n            })\n        },\n        loadProjectList(spaceId) {\n            listProjectApi({space_id: spaceId, offset: 0, limit : 999}).then(res => {\n                if (res.list) {\n                    this.projectList = res.list\n                }\n            })\n        },\n    },\n    mounted() {\n        this.loadSpaceList()\n    },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Apply.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Apply.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Apply.vue?vue&type=template&id=8d008e0e&\"\nimport script from \"./Apply.vue?vue&type=script&lang=js&\"\nexport * from \"./Apply.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Apply.vue\"\nexport default component.exports","import {get, post} from '@/lib/fetch.js'\n\nexport function applyProjectDetailApi(params) {\n    return get('/deploy/apply/project/detail', params)\n}\n\nexport function applySubmitApi(data) {\n    return post('/deploy/apply/submit', data)\n}\n\nexport function applyProjectAllApi() {\n    return get('/deploy/apply/project/all')\n}\n\nexport function applyListApi(params) {\n    return get('/deploy/apply/list', params)\n}\n\nexport function applyDetailApi(params) {\n    return get('/deploy/apply/detail', params)\n}\n\nexport function applyAuditApi(data) {\n    return post('/deploy/apply/audit', data)\n}\n\nexport function applyUpdateApi(data) {\n    return post('/deploy/apply/update', data)\n}\n\nexport function applyDropApi(data) {\n    return post('/deploy/apply/drop', data)\n}\n\nexport function applyRollbackListApi(params) {\n    return get('/deploy/apply/rollbacklist', params)\n}\n\nexport function buildStartApi(data) {\n    return post('/deploy/build/start', data)\n}\n\nexport function buildStatusApi(params) {\n    return get('/deploy/build/status', params)\n}\n\nexport function buildStopApi(data) {\n    return post('/deploy/build/stop', data)\n}\n\nexport function deployStart(data) {\n    return post('/deploy/deploy/start', data)\n}\n\nexport function deployStatusApi(params) {\n    return get('/deploy/deploy/status', params)\n}\n\nexport function deployStopApi(data) {\n    return post('/deploy/deploy/stop', data)\n}\n\nexport function deployRollbackApi(data) {\n    return post('/deploy/deploy/rollback', data)\n}","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n"],"sourceRoot":""}