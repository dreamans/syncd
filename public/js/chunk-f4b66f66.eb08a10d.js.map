{"version":3,"sources":["webpack:///./src/view/server/Server.vue?96f2","webpack:///src/view/server/Server.vue","webpack:///./src/view/server/Server.vue?085e","webpack:///./src/view/server/Server.vue","webpack:///./src/api/server.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","shadow","staticClass","span","$root","CheckPriv","Priv","SERVER_NEW","type","size","icon","on","click","openAddDialogHandler","_v","_s","$t","_e","offset","placeholder","nativeOn","keyup","$event","_k","keyCode","key","searchHandler","model","value","callback","$$v","searchInput","expression","slot","directives","name","rawName","data","tableData","prop","label","width","scopedSlots","_u","fn","scope","row","group_name","align","SERVER_EDIT","openEditDialogHandler","SERVER_DEL","deleteHandler","background","layout","current-page","Page","page-size","PageSize","total","Total","current-change","currentChangeHandler","update:currentPage","$set","DialogSmallWidth","title","dialogTitle","visible","dialogVisible","update:visible","close","dialogCloseHandler","ref","dialogForm","label-width","rules","required","message","trigger","staticStyle","filterable","_l","g","id","autocomplete","maxlength","loading","btnLoading","dialogSubmitHandler","staticRenderFns","Servervue_type_script_lang_js_","dialogLoading","tableLoading","serverGroupList","methods","PageInit","loadTableData","loadServerGroupList","_this","Object","server","then","res","catch","err","$refs","dialogRef","resetFields","ssh_port","_this2","ConfirmDelete","MessageSuccess","PageReset","_this3","validate","valid","opFn","_this4","keyword","PageOffset","limit","list","_this5","length","mounted","server_Servervue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","__webpack_require__","d","newGroupApi","listGroupApi","deleteGroupApi","detailGroupApi","updateGroupApi","newServerApi","updateServerApi","listServerApi","deleteServerApi","detailServerApi","_lib_fetch_js__WEBPACK_IMPORTED_MODULE_0__","post","params","get"],"mappings":"uHAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,WAA+BE,MAAA,CAAOC,OAAA,UAAkB,CAAAH,EAAA,UAAeI,YAAA,iBAA4B,CAAAJ,EAAA,UAAeE,MAAA,CAAOG,KAAA,IAAU,CAAAT,EAAAU,MAAAC,UAAAX,EAAAU,MAAAE,KAAAC,YAAAT,EAAA,aAAmEE,MAAA,CAAOQ,KAAA,UAAAC,KAAA,SAAAC,KAAA,gCAAuEC,GAAA,CAAKC,MAAAlB,EAAAmB,uBAAkC,CAAAnB,EAAAoB,GAAApB,EAAAqB,GAAArB,EAAAsB,GAAA,kBAAAtB,EAAAuB,KAAAvB,EAAAoB,GAAA,uBAAAhB,EAAA,UAA6FE,MAAA,CAAOG,KAAA,EAAAe,OAAA,KAAsB,CAAApB,EAAA,YAAiBE,MAAA,CAAOS,KAAA,SAAAU,YAAAzB,EAAAsB,GAAA,oCAAwEI,SAAA,CAAWC,MAAA,SAAAC,GAAyB,iBAAAA,IAAA5B,EAAA6B,GAAAD,EAAAE,QAAA,WAAAF,EAAAG,IAAA,SAA+F/B,EAAAgC,cAAAJ,GAAf,OAAiDK,MAAA,CAAQC,MAAAlC,EAAA,YAAAmC,SAAA,SAAAC,GAAiDpC,EAAAqC,YAAAD,GAAoBE,WAAA,gBAA2B,CAAAlC,EAAA,aAAkBE,MAAA,CAAOiC,KAAA,SAAAvB,KAAA,kBAAwCC,GAAA,CAAKC,MAAAlB,EAAAgC,eAA0BO,KAAA,YAAe,WAAAnC,EAAA,YAA6BoC,WAAA,EAAaC,KAAA,UAAAC,QAAA,YAAAR,MAAAlC,EAAA,aAAAsC,WAAA,iBAAsF9B,YAAA,YAAAF,MAAA,CAAiCS,KAAA,SAAA4B,KAAA3C,EAAA4C,YAAsC,CAAAxC,EAAA,mBAAwBE,MAAA,CAAOuC,KAAA,KAAAC,MAAA,KAAAC,MAAA,QAAuC3C,EAAA,mBAAwBE,MAAA,CAAOuC,KAAA,OAAAC,MAAA9C,EAAAsB,GAAA,WAAsClB,EAAA,mBAAwBE,MAAA,CAAOuC,KAAA,aAAAE,MAAA,MAAAD,MAAA9C,EAAAsB,GAAA,YAA4D0B,YAAAhD,EAAAiD,GAAA,EAAsBlB,IAAA,UAAAmB,GAAA,SAAAC,GAAiC,OAAAA,EAAAC,IAAAC,WAA0EjD,EAAA,QAAAJ,EAAAoB,GAAApB,EAAAqB,GAAA8B,EAAAC,IAAAC,eAA1EjD,EAAA,QAA2CI,YAAA,oBAA+B,CAAAR,EAAAoB,GAAApB,EAAAqB,GAAArB,EAAAsB,GAAA,sBAA6FlB,EAAA,mBAAwBE,MAAA,CAAOuC,KAAA,KAAAE,MAAA,MAAAD,MAAA,aAA6C1C,EAAA,mBAAwBE,MAAA,CAAOuC,KAAA,WAAAE,MAAA,MAAAD,MAAA,cAAoD1C,EAAA,mBAAwBE,MAAA,CAAOwC,MAAA9C,EAAAsB,GAAA,WAAAyB,MAAA,MAAAO,MAAA,SAAwDN,YAAAhD,EAAAiD,GAAA,EAAsBlB,IAAA,UAAAmB,GAAA,SAAAC,GAAiC,OAAAnD,EAAAU,MAAAC,UAAAX,EAAAU,MAAAE,KAAA2C,aAAAnD,EAAA,aAA0EE,MAAA,CAAOU,KAAA,eAAAF,KAAA,QAAoCG,GAAA,CAAKC,MAAA,SAAAU,GAAyB5B,EAAAwD,sBAAAL,EAAAC,QAAuC,CAAApD,EAAAoB,GAAApB,EAAAqB,GAAArB,EAAAsB,GAAA,YAAAtB,EAAAuB,KAAAvB,EAAAU,MAAAC,UAAAX,EAAAU,MAAAE,KAAA6C,YAAArD,EAAA,aAA6GI,YAAA,aAAAF,MAAA,CAAgCQ,KAAA,OAAAE,KAAA,kBAAsCC,GAAA,CAAKC,MAAA,SAAAU,GAAyB5B,EAAA0D,cAAAP,EAAAC,QAA+B,CAAApD,EAAAoB,GAAApB,EAAAqB,GAAArB,EAAAsB,GAAA,cAAAtB,EAAAuB,aAAmD,GAAAnB,EAAA,iBAA0BI,YAAA,iBAAAF,MAAA,CAAoCqD,WAAA,GAAAC,OAAA,oBAAAC,eAAA7D,EAAAU,MAAAoD,KAAAC,YAAA/D,EAAAU,MAAAsD,SAAAC,MAAAjE,EAAAU,MAAAwD,OAAkIjD,GAAA,CAAKkD,iBAAAnE,EAAAoE,qBAAAC,qBAAA,SAAAzC,GAAgF5B,EAAAsE,KAAAtE,EAAAU,MAAA,OAAAkB,QAAsC,GAAAxB,EAAA,aAAsBE,MAAA,CAAOyC,MAAA/C,EAAAU,MAAA6D,iBAAAC,MAAAxE,EAAAyE,YAAAC,QAAA1E,EAAA2E,eAAuF1D,GAAA,CAAK2D,iBAAA,SAAAhD,GAAkC5B,EAAA2E,cAAA/C,GAAyBiD,MAAA7E,EAAA8E,qBAAiC,CAAA1E,EAAA,OAAYoC,WAAA,EAAaC,KAAA,UAAAC,QAAA,YAAAR,MAAAlC,EAAA,cAAAsC,WAAA,kBAAwF9B,YAAA,cAA2B,CAAAJ,EAAA,WAAgB2E,IAAA,YAAAvE,YAAA,WAAAF,MAAA,CAA8C2B,MAAAjC,EAAAgF,WAAAjE,KAAA,SAAAkE,cAAA,UAA8D,CAAA7E,EAAA,gBAAqBE,MAAA,CAAOwC,MAAA9C,EAAAsB,GAAA,kBAAAuB,KAAA,WAAAqC,MAAA,CACnrG,CAAyBC,UAAA,EAAAC,QAAAnF,KAAAqB,GAAA,+BAAA+D,QAAA,WAAsF,CAAAjF,EAAA,aAAkBkF,YAAA,CAAavC,MAAA,QAAezC,MAAA,CAAQiF,WAAA,GAAA9D,YAAAzB,EAAAsB,GAAA,mBAAuDW,MAAA,CAAQC,MAAAlC,EAAAgF,WAAA,SAAA7C,SAAA,SAAAC,GAAyDpC,EAAAsE,KAAAtE,EAAAgF,WAAA,WAAA5C,IAA0CE,WAAA,wBAAmCtC,EAAAwF,GAAAxF,EAAA,yBAAAyF,GAA0C,OAAArF,EAAA,aAAuB2B,IAAA0D,EAAAC,GAAApF,MAAA,CAAgBwC,MAAA2C,EAAAhD,KAAAP,MAAAuD,EAAAC,QAA+B,OAAAtF,EAAA,gBAA4BE,MAAA,CAAOwC,MAAA9C,EAAAsB,GAAA,eAAAuB,KAAA,OAAAqC,MAAA,CAC7f,CAAyBC,UAAA,EAAAC,QAAAnF,KAAAqB,GAAA,qBAAA+D,QAAA,WAA4E,CAAAjF,EAAA,YAAiBE,MAAA,CAAOmB,YAAAzB,EAAAsB,GAAA,4BAAAqE,aAAA,OAAsE1D,MAAA,CAAQC,MAAAlC,EAAAgF,WAAA,KAAA7C,SAAA,SAAAC,GAAqDpC,EAAAsE,KAAAtE,EAAAgF,WAAA,OAAA5C,IAAsCE,WAAA,sBAA+B,GAAAlC,EAAA,gBAAyBE,MAAA,CAAOwC,MAAA,UAAAD,KAAA,KAAAqC,MAAA,CACrW,CAAyBC,UAAA,EAAAC,QAAAnF,KAAAqB,GAAA,wBAAA+D,QAAA,WAA+E,CAAAjF,EAAA,YAAiBE,MAAA,CAAOmB,YAAAzB,EAAAsB,GAAA,+BAAAqE,aAAA,OAAyE1D,MAAA,CAAQC,MAAAlC,EAAAgF,WAAA,GAAA7C,SAAA,SAAAC,GAAmDpC,EAAAsE,KAAAtE,EAAAgF,WAAA,KAAA5C,IAAoCE,WAAA,oBAA6B,GAAAlC,EAAA,gBAAyBE,MAAA,CAAOwC,MAAA9C,EAAAsB,GAAA,YAAAuB,KAAA,WAAAqC,MAAA,CACrW,CAAyBC,UAAA,EAAAC,QAAAnF,KAAAqB,GAAA,yBAAA+D,QAAA,WAAgF,CAAAjF,EAAA,YAAiBI,YAAA,iBAAAF,MAAA,CAAoCsF,UAAA,IAAAD,aAAA,OAAqC1D,MAAA,CAAQC,MAAAlC,EAAAgF,WAAA,SAAA7C,SAAA,SAAAC,GAAyDpC,EAAAsE,KAAAtE,EAAAgF,WAAA,WAAA5C,IAA0CE,WAAA,0BAAmC,OAAAlC,EAAA,OAAoBI,YAAA,gBAAAF,MAAA,CAAmCiC,KAAA,UAAgBA,KAAA,UAAe,CAAAnC,EAAA,aAAkBE,MAAA,CAAOS,KAAA,SAAeE,GAAA,CAAKC,MAAAlB,EAAA8E,qBAAgC,CAAA9E,EAAAoB,GAAApB,EAAAqB,GAAArB,EAAAsB,GAAA,cAAAlB,EAAA,aAAqDE,MAAA,CAAOuF,QAAA7F,EAAA8F,WAAA/E,KAAA,QAAAD,KAAA,WAAyDG,GAAA,CAAKC,MAAAlB,EAAA+F,sBAAiC,CAAA/F,EAAAoB,GAAApB,EAAAqB,GAAArB,EAAAsB,GAAA,4BAC/oB0E,EAAA,eC0GAC,EAAA,CACAtD,KADA,WAEA,OACAN,YAAA,GACAsC,eAAA,EACAF,YAAA,GACAO,WAAA,GACAkB,eAAA,EACAJ,YAAA,EAEAlD,UAAA,GACAuD,cAAA,EAEAC,gBAAA,KAGAC,QAAA,CACArE,cADA,WAEA/B,KAAAS,MAAA4F,WACArG,KAAAsG,iBAEApF,qBALA,WAMAlB,KAAA0E,eAAA,EACA1E,KAAAwE,YAAAxE,KAAAqB,GAAA,cACArB,KAAAuG,uBAEAhD,sBAVA,SAUAJ,GAAA,IAAAqD,EAAAxG,KACAA,KAAA0E,eAAA,EACA1E,KAAAwE,YAAAxE,KAAAqB,GAAA,oBACArB,KAAAiG,eAAA,EACAjG,KAAAuG,sBACAE,OAAAC,EAAA,KAAAD,CAAA,CAAAhB,GAAAtC,EAAAsC,KAAAkB,KAAA,SAAAC,GACAJ,EAAAP,eAAA,EAEAO,EAAAzB,WAAA6B,IACAC,MAAA,SAAAC,GACAN,EAAA3B,wBAGAA,mBAvBA,WAwBA7E,KAAA0E,eAAA,EACA1E,KAAAiG,eAAA,EACAjG,KAAA6F,YAAA,EACA7F,KAAA+G,MAAAC,UAAAC,cACAjH,KAAA+E,WAAA,CACAmC,SAAA,KAGAzD,cAhCA,SAgCAN,GAAA,IAAAgE,EAAAnH,KACAA,KAAAS,MAAA2G,cAAA,WACAX,OAAAC,EAAA,KAAAD,CAAA,CAAAhB,GAAAtC,EAAAsC,KAAAkB,KAAA,SAAAC,GACAO,EAAA1G,MAAA4G,iBACAF,EAAA1G,MAAA6G,YACAH,EAAAb,qBAIAnC,qBAzCA,WA0CAnE,KAAAsG,iBAEAR,oBA5CA,WA4CA,IAAAyB,EAAAvH,KAEAA,KAAA+G,MAAAC,UAAAQ,SAAA,SAAAC,GACA,IAAAA,EACA,SAGA,IAAAC,EADAH,EAAA1B,YAAA,EAGA6B,EADAH,EAAAxC,WAAAU,GACAiB,EAAA,KAEAA,EAAA,KAEAgB,EAAAH,EAAAxC,YAAA4B,KAAA,SAAAC,GACAW,EAAA9G,MAAA4G,eAAA,WACAE,EAAA1C,qBACA0C,EAAA1B,YAAA,EACA0B,EAAAjB,oBAEAO,MAAA,SAAAC,GACAS,EAAA1B,YAAA,OAIAS,cApEA,WAoEA,IAAAqB,EAAA3H,KACAA,KAAAkG,cAAA,EACAO,OAAAC,EAAA,KAAAD,CAAA,CAAAmB,QAAA5H,KAAAoC,YAAAb,OAAAvB,KAAAS,MAAAoH,aAAAC,MAAA9H,KAAAS,MAAAsD,WAAA4C,KAAA,SAAAC,GACAe,EAAAhF,UAAAiE,EAAAmB,KACAJ,EAAAlH,MAAAwD,MAAA2C,EAAA5C,MACA2D,EAAAzB,cAAA,IACAW,MAAA,SAAAC,GACAa,EAAAzB,cAAA,KAGAK,oBA9EA,WA8EA,IAAAyB,EAAAhI,KACAyG,OAAAC,EAAA,KAAAD,CAAA,CAAAlF,OAAA,EAAAuG,MAAA,MAAAnB,KAAA,SAAAC,GACAA,EAAAmB,MAAAnB,EAAAmB,KAAAE,OAAA,IACAD,EAAA7B,gBAAAS,EAAAmB,UAKAG,QAtGA,WAuGAlI,KAAAS,MAAA4F,WACArG,KAAAsG,kBCvN+V6B,EAAA,cCO/VC,EAAgB3B,OAAA4B,EAAA,KAAA5B,CACd0B,EACArI,EACAiG,GACF,EACA,KACA,KACA,MAIAqC,EAAAE,QAAAC,OAAA,aACeC,EAAA,WAAAJ,6CCnBfK,EAAAC,EAAAF,EAAA,sBAAAG,IAAAF,EAAAC,EAAAF,EAAA,sBAAAI,IAAAH,EAAAC,EAAAF,EAAA,sBAAAK,IAAAJ,EAAAC,EAAAF,EAAA,sBAAAM,IAAAL,EAAAC,EAAAF,EAAA,sBAAAO,IAAAN,EAAAC,EAAAF,EAAA,sBAAAQ,IAAAP,EAAAC,EAAAF,EAAA,sBAAAS,IAAAR,EAAAC,EAAAF,EAAA,sBAAAU,IAAAT,EAAAC,EAAAF,EAAA,sBAAAW,IAAAV,EAAAC,EAAAF,EAAA,sBAAAY,IAAA,IAAAC,EAAAZ,EAAA,QAEO,SAASE,EAAYjG,GACxB,OAAO4G,eAAK,oBAAqB5G,GAG9B,SAASkG,EAAaW,GACzB,OAAOC,eAAI,qBAAsBD,GAG9B,SAASV,EAAenG,GAC3B,OAAO4G,eAAK,uBAAwB5G,GAGjC,SAASoG,EAAeS,GAC3B,OAAOC,eAAI,uBAAwBD,GAGhC,SAASR,EAAerG,GAC3B,OAAO4G,eAAK,uBAAwB5G,GAGjC,SAASsG,EAAatG,GACzB,OAAO4G,eAAK,cAAe5G,GAGxB,SAASuG,EAAgBvG,GAC5B,OAAO4G,eAAK,iBAAkB5G,GAG3B,SAASwG,EAAcK,GAC1B,OAAOC,eAAI,eAAgBD,GAGxB,SAASJ,EAAgBzG,GAC5B,OAAO4G,eAAK,iBAAkB5G,GAG3B,SAAS0G,EAAgBG,GAC5B,OAAOC,eAAI,iBAAkBD","file":"js/chunk-f4b66f66.eb08a10d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',{attrs:{\"shadow\":\"never\"}},[_c('el-row',{staticClass:\"app-btn-group\"},[_c('el-col',{attrs:{\"span\":4}},[(_vm.$root.CheckPriv(_vm.$root.Priv.SERVER_NEW))?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"medium\",\"icon\":\"iconfont left small icon-add\"},on:{\"click\":_vm.openAddDialogHandler}},[_vm._v(_vm._s(_vm.$t('add_server')))]):_vm._e(),_vm._v(\"Â \\n            \")],1),_c('el-col',{attrs:{\"span\":6,\"offset\":14}},[_c('el-input',{attrs:{\"size\":\"medium\",\"placeholder\":_vm.$t('please_input_keyword_id_or_name')},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchHandler($event)}},model:{value:(_vm.searchInput),callback:function ($$v) {_vm.searchInput=$$v},expression:\"searchInput\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchHandler},slot:\"append\"})],1)],1)],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.tableLoading),expression:\"tableLoading\"}],staticClass:\"app-table\",attrs:{\"size\":\"medium\",\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"ID\",\"width\":\"80\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":_vm.$t('name')}}),_c('el-table-column',{attrs:{\"prop\":\"group_name\",\"width\":\"200\",\"label\":_vm.$t('cluster')},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(!scope.row.group_name)?_c('span',{staticClass:\"app-line-through\"},[_vm._v(_vm._s(_vm.$t('deleted')))]):_c('span',[_vm._v(_vm._s(scope.row.group_name))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"ip\",\"width\":\"200\",\"label\":\"IP/HOST\"}}),_c('el-table-column',{attrs:{\"prop\":\"ssh_port\",\"width\":\"100\",\"label\":\"SSH Port\"}}),_c('el-table-column',{attrs:{\"label\":_vm.$t('operate'),\"width\":\"180\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.$root.CheckPriv(_vm.$root.Priv.SERVER_EDIT))?_c('el-button',{attrs:{\"icon\":\"el-icon-edit\",\"type\":\"text\"},on:{\"click\":function($event){_vm.openEditDialogHandler(scope.row)}}},[_vm._v(_vm._s(_vm.$t('edit')))]):_vm._e(),(_vm.$root.CheckPriv(_vm.$root.Priv.SERVER_DEL))?_c('el-button',{staticClass:\"app-danger\",attrs:{\"type\":\"text\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){_vm.deleteHandler(scope.row)}}},[_vm._v(_vm._s(_vm.$t('delete')))]):_vm._e()]}}])})],1),_c('el-pagination',{staticClass:\"app-pagination\",attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"current-page\":_vm.$root.Page,\"page-size\":_vm.$root.PageSize,\"total\":_vm.$root.Total},on:{\"current-change\":_vm.currentChangeHandler,\"update:currentPage\":function($event){_vm.$set(_vm.$root, \"Page\", $event)}}})],1),_c('el-dialog',{attrs:{\"width\":_vm.$root.DialogSmallWidth,\"title\":_vm.dialogTitle,\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event},\"close\":_vm.dialogCloseHandler}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.dialogLoading),expression:\"dialogLoading\"}],staticClass:\"app-dialog\"},[_c('el-form',{ref:\"dialogRef\",staticClass:\"app-form\",attrs:{\"model\":_vm.dialogForm,\"size\":\"medium\",\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('belong_cluster'),\"prop\":\"group_id\",\"rules\":[\n                        { required: true, message: this.$t('belong_cluster_cannot_empty'), trigger: 'blur'} ]}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"filterable\":\"\",\"placeholder\":_vm.$t('keyword_search')},model:{value:(_vm.dialogForm.group_id),callback:function ($$v) {_vm.$set(_vm.dialogForm, \"group_id\", $$v)},expression:\"dialogForm.group_id\"}},_vm._l((_vm.serverGroupList),function(g){return _c('el-option',{key:g.id,attrs:{\"label\":g.name,\"value\":g.id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":_vm.$t('server_name'),\"prop\":\"name\",\"rules\":[\n                        { required: true, message: this.$t('name_cannot_empty'), trigger: 'blur'} ]}},[_c('el-input',{attrs:{\"placeholder\":_vm.$t('please_input_server_name'),\"autocomplete\":\"off\"},model:{value:(_vm.dialogForm.name),callback:function ($$v) {_vm.$set(_vm.dialogForm, \"name\", $$v)},expression:\"dialogForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"IP/HOST\",\"prop\":\"ip\",\"rules\":[\n                        { required: true, message: this.$t('IP_HOST_cannot_empty'), trigger: 'blur'} ]}},[_c('el-input',{attrs:{\"placeholder\":_vm.$t('please_input_server_IP_HOST'),\"autocomplete\":\"off\"},model:{value:(_vm.dialogForm.ip),callback:function ($$v) {_vm.$set(_vm.dialogForm, \"ip\", $$v)},expression:\"dialogForm.ip\"}})],1),_c('el-form-item',{attrs:{\"label\":_vm.$t('SSH_port'),\"prop\":\"ssh_port\",\"rules\":[\n                        { required: true, message: this.$t('SSH_port_cannot_empty'), trigger: 'blur'} ]}},[_c('el-input',{staticClass:\"app-input-mini\",attrs:{\"maxlength\":\"5\",\"autocomplete\":\"off\"},model:{value:(_vm.dialogForm.ssh_port),callback:function ($$v) {_vm.$set(_vm.dialogForm, \"ssh_port\", $$v)},expression:\"dialogForm.ssh_port\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.dialogCloseHandler}},[_vm._v(_vm._s(_vm.$t('cancel')))]),_c('el-button',{attrs:{\"loading\":_vm.btnLoading,\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.dialogSubmitHandler}},[_vm._v(_vm._s(_vm.$t('enter')))])],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <el-card shadow=\"never\">\n            <el-row class=\"app-btn-group\">\n                <el-col :span=\"4\">\n                    <el-button v-if=\"$root.CheckPriv($root.Priv.SERVER_NEW)\" @click=\"openAddDialogHandler\" type=\"primary\" size=\"medium\" icon=\"iconfont left small icon-add\">{{ $t('add_server') }}</el-button>&nbsp;\n                </el-col>\n                <el-col :span=\"6\" :offset=\"14\">\n                    <el-input @keyup.enter.native=\"searchHandler\" v-model=\"searchInput\" size=\"medium\" :placeholder=\"$t('please_input_keyword_id_or_name')\">\n                        <el-button @click=\"searchHandler\" slot=\"append\" icon=\"el-icon-search\"></el-button>\n                    </el-input>\n                </el-col>\n            </el-row>\n            <el-table\n                class=\"app-table\"\n                size=\"medium\"\n                v-loading=\"tableLoading\"\n                :data=\"tableData\">\n                <el-table-column prop=\"id\" label=\"ID\" width=\"80\"></el-table-column>\n                <el-table-column prop=\"name\" :label=\"$t('name')\"></el-table-column>\n                <el-table-column prop=\"group_name\" width=\"200\" :label=\"$t('cluster')\">\n                    <template slot-scope=\"scope\">\n                        <span class=\"app-line-through\" v-if=\"!scope.row.group_name\">{{ $t('deleted') }}</span>\n                        <span v-else>{{ scope.row.group_name }}</span>\n                    </template>\n                </el-table-column>\n                <el-table-column prop=\"ip\" width=\"200\" label=\"IP/HOST\"></el-table-column>\n                <el-table-column prop=\"ssh_port\" width=\"100\" label=\"SSH Port\"></el-table-column>\n                <el-table-column :label=\"$t('operate')\" width=\"180\" align=\"right\">\n                    <template slot-scope=\"scope\">\n                        <el-button\n                        v-if=\"$root.CheckPriv($root.Priv.SERVER_EDIT)\"\n                        icon=\"el-icon-edit\"\n                        type=\"text\"\n                        @click=\"openEditDialogHandler(scope.row)\">{{ $t('edit') }}</el-button>\n                        \n                        <el-button\n                        v-if=\"$root.CheckPriv($root.Priv.SERVER_DEL)\"\n                        type=\"text\"\n                        icon=\"el-icon-delete\"\n                        class=\"app-danger\"\n                        @click=\"deleteHandler(scope.row)\">{{ $t('delete') }}</el-button>\n                    </template>\n                </el-table-column>\n            </el-table>\n            <el-pagination\n                background\n                layout=\"prev, pager, next\"\n                class=\"app-pagination\"\n                @current-change=\"currentChangeHandler\"\n                :current-page.sync=\"$root.Page\"\n                :page-size=\"$root.PageSize\"\n                :total=\"$root.Total\">\n            </el-pagination>\n        </el-card>\n\n        <el-dialog :width=\"$root.DialogSmallWidth\" :title=\"dialogTitle\" :visible.sync=\"dialogVisible\" @close=\"dialogCloseHandler\">\n            <div class=\"app-dialog\" v-loading=\"dialogLoading\">\n                <el-form class=\"app-form\" ref=\"dialogRef\" :model=\"dialogForm\" size=\"medium\" label-width=\"120px\">\n                    <el-form-item \n                        :label=\"$t('belong_cluster')\"\n                        prop=\"group_id\"\n                        :rules=\"[\n                            { required: true, message: this.$t('belong_cluster_cannot_empty'), trigger: 'blur'},\n                        ]\">\n                        <el-select filterable :placeholder=\"$t('keyword_search')\" style=\"width: 100%\" v-model=\"dialogForm.group_id\">\n                            <el-option\n                                v-for=\"g in serverGroupList\"\n                                :key=\"g.id\"\n                                :label=\"g.name\"\n                                :value=\"g.id\">\n                            </el-option>\n                        </el-select>\n                    </el-form-item>\n                    <el-form-item \n                        :label=\"$t('server_name')\"\n                        prop=\"name\"\n                        :rules=\"[\n                            { required: true, message: this.$t('name_cannot_empty'), trigger: 'blur'},\n                        ]\">\n                        <el-input :placeholder=\"$t('please_input_server_name')\" v-model=\"dialogForm.name\" autocomplete=\"off\"></el-input>\n                    </el-form-item>\n                    <el-form-item \n                        label=\"IP/HOST\"\n                        prop=\"ip\"\n                        :rules=\"[\n                            { required: true, message: this.$t('IP_HOST_cannot_empty'), trigger: 'blur'},\n                        ]\">\n                        <el-input :placeholder=\"$t('please_input_server_IP_HOST')\" v-model=\"dialogForm.ip\" autocomplete=\"off\"></el-input>\n                    </el-form-item>\n                    <el-form-item \n                        :label=\"$t('SSH_port')\"\n                        prop=\"ssh_port\"\n                        :rules=\"[\n                            { required: true, message: this.$t('SSH_port_cannot_empty'), trigger: 'blur'},\n                        ]\">\n                        <el-input maxlength=5 class=\"app-input-mini\" v-model=\"dialogForm.ssh_port\" autocomplete=\"off\"></el-input>\n                    </el-form-item>\n                </el-form>\n                <div slot=\"footer\" class=\"dialog-footer\">\n                    <el-button size=\"small\" @click=\"dialogCloseHandler\">{{ $t('cancel')}}</el-button>\n                    <el-button :loading=\"btnLoading\" size=\"small\" type=\"primary\" @click=\"dialogSubmitHandler\">{{ $t('enter')}}</el-button>\n                </div>\n            </div>\n        </el-dialog>\n\n    </div>\n</template>\n\n<script>\nimport { listGroupApi, newServerApi, updateServerApi, listServerApi, deleteServerApi, detailServerApi } from '@/api/server'\nexport default {\n    data() {\n        return {\n            searchInput: '',\n            dialogVisible: false,\n            dialogTitle: '',\n            dialogForm: {},\n            dialogLoading: false,\n            btnLoading: false,\n\n            tableData: [],\n            tableLoading: false,\n\n            serverGroupList: [],\n        }\n    },\n    methods: {\n        searchHandler() {\n            this.$root.PageInit()\n            this.loadTableData()\n        },\n        openAddDialogHandler() {\n            this.dialogVisible = true\n            this.dialogTitle = this.$t('add_server')\n            this.loadServerGroupList()\n        },\n        openEditDialogHandler(row) {\n            this.dialogVisible = true\n            this.dialogTitle = this.$t('edit_server_info')\n            this.dialogLoading = true\n            this.loadServerGroupList()\n            detailServerApi({id: row.id}).then(res => {\n                this.dialogLoading = false\n\n                this.dialogForm = res\n            }).catch(err => {\n                this.dialogCloseHandler()\n            })\n        },\n        dialogCloseHandler() {\n            this.dialogVisible = false\n            this.dialogLoading = false\n            this.btnLoading = false\n            this.$refs.dialogRef.resetFields();\n            this.dialogForm = {\n                ssh_port: 22,\n            }\n        },\n        deleteHandler(row) {\n            this.$root.ConfirmDelete(() => {\n                deleteServerApi({id: row.id}).then(res => {\n                    this.$root.MessageSuccess()\n                    this.$root.PageReset()\n                    this.loadTableData()\n                })\n            })\n        },\n        currentChangeHandler() {\n            this.loadTableData()\n        },\n        dialogSubmitHandler() {\n            let vm = this\n            this.$refs.dialogRef.validate((valid) => {\n                if (!valid) {\n                    return false;\n                }\n                this.btnLoading = true\n                let opFn\n                if (this.dialogForm.id) {\n                    opFn = updateServerApi\n                } else {\n                    opFn = newServerApi\n                }\n                opFn(this.dialogForm).then(res => {\n                    this.$root.MessageSuccess(() => {\n                        this.dialogCloseHandler()\n                        this.btnLoading = false\n                        this.loadTableData()\n                    })\n                }).catch(err => {\n                    this.btnLoading = false\n                })\n            });\n        },\n        loadTableData() {\n            this.tableLoading = true\n            listServerApi({keyword: this.searchInput, offset: this.$root.PageOffset(), limit: this.$root.PageSize}).then(res => {\n                this.tableData = res.list\n                this.$root.Total = res.total\n                this.tableLoading = false\n            }).catch(err => {\n                this.tableLoading = false\n            })\n        },\n        loadServerGroupList() {\n            listGroupApi({offset: 0, limit: 999}).then(res => {\n                if (res.list && res.list.length > 0) {\n                    this.serverGroupList = res.list\n                }\n            })\n        },\n    },\n    mounted() {\n        this.$root.PageInit()\n        this.loadTableData()\n    }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Server.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Server.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Server.vue?vue&type=template&id=11c45252&\"\nimport script from \"./Server.vue?vue&type=script&lang=js&\"\nexport * from \"./Server.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Server.vue\"\nexport default component.exports","import {get, post} from '@/lib/fetch.js'\n\nexport function newGroupApi(data) {\n    return post('/server/group/add', data)\n}\n\nexport function listGroupApi(params) {\n    return get('/server/group/list', params)\n}\n\nexport function deleteGroupApi(data) {\n    return post('/server/group/delete', data)\n}\n\nexport function detailGroupApi(params) {\n    return get('/server/group/detail', params)\n}\n\nexport function updateGroupApi(data) {\n    return post('/server/group/update', data)\n}\n\nexport function newServerApi(data) {\n    return post('/server/add', data)\n}\n\nexport function updateServerApi(data) {\n    return post('/server/update', data)\n}\n\nexport function listServerApi(params) {\n    return get('/server/list', params)\n}\n\nexport function deleteServerApi(data) {\n    return post('/server/delete', data)\n}\n\nexport function detailServerApi(params) {\n    return get('/server/detail', params)\n}"],"sourceRoot":""}