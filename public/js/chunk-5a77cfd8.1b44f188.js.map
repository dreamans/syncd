{"version":3,"sources":["webpack:///./src/api/project.js","webpack:///./src/view/project/Space.vue?dc53","webpack:///src/view/project/Space.vue","webpack:///./src/view/project/Space.vue?fd37","webpack:///./src/view/project/Space.vue"],"names":["__webpack_require__","d","__webpack_exports__","newSpaceApi","updateSpaceApi","listSpaceApi","detailSpaceApi","deleteSpaceApi","searchMemberApi","addMemberApi","listMemberApi","removeMemberApi","newProjectApi","updateProjectApi","listProjectApi","switchStatusProjectApi","detailProjectApi","deleteProjectApi","updateBuildScriptApi","updateHookScriptApi","updateDeployScriptApi","_lib_fetch_js__WEBPACK_IMPORTED_MODULE_0__","data","post","params","get","render","_vm","this","_h","$createElement","_c","_self","attrs","shadow","staticClass","span","$root","CheckPriv","Priv","PROJECT_SPACE_NEW","type","size","icon","on","click","openAddDialogHandler","_v","_s","$t","_e","offset","placeholder","nativeOn","keyup","$event","_k","keyCode","key","searchHandler","model","value","callback","$$v","searchInput","expression","slot","directives","name","rawName","tableData","prop","label","scopedSlots","_u","fn","scope","row","description","width","align","PROJECT_SPACE_EDIT","openEditDialogHandler","PROJECT_SPACE_DEL","deleteHandler","background","layout","current-page","Page","page-size","PageSize","total","Total","current-change","currentChangeHandler","update:currentPage","$set","DialogNormalWidth","title","dialogTitle","visible","dialogVisible","update:visible","close","dialogCloseHandler","ref","dialogForm","label-width","rules","required","message","trigger","autocomplete","rows","loading","btnLoading","dialogSubmitHandler","staticRenderFns","Spacevue_type_script_lang_js_","dialogLoading","tableLoading","methods","PageInit","loadTableData","_this","Object","project","id","then","res","catch","err","$refs","dialogRef","resetFields","_this2","ConfirmDelete","MessageSuccess","PageReset","_this3","validate","valid","opFn","_this4","keyword","PageOffset","limit","list","mounted","project_Spacevue_type_script_lang_js_","component","componentNormalizer","options","__file"],"mappings":"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","file":"js/chunk-5a77cfd8.1b44f188.js","sourcesContent":["import {get, post} from '@/lib/fetch.js'\r\n\r\nexport function newSpaceApi(data) {\r\n    return post('/project/space/add', data)\r\n}\r\n\r\nexport function updateSpaceApi(data) {\r\n    return post('/project/space/update', data)\r\n}\r\n\r\nexport function listSpaceApi(params) {\r\n    return get('/project/space/list', params)\r\n}\r\n\r\nexport function detailSpaceApi(params) {\r\n    return get('/project/space/detail', params)\r\n}\r\n\r\nexport function deleteSpaceApi(data) {\r\n    return post('/project/space/delete', data)\r\n}\r\n\r\nexport function searchMemberApi(params) {\r\n    return get('/project/member/search', params)\r\n}\r\n\r\nexport function addMemberApi(data) {\r\n    return post('/project/member/add', data)\r\n}\r\n\r\nexport function listMemberApi(params) {\r\n    return get('/project/member/list', params)\r\n}\r\n\r\nexport function removeMemberApi(data) {\r\n    return post('/project/member/remove', data)\r\n}\r\n\r\nexport function newProjectApi(data) {\r\n    return post('/project/add', data)\r\n}\r\n\r\nexport function updateProjectApi(data) {\r\n    return post('/project/update', data)\r\n}\r\n\r\nexport function listProjectApi(params) {\r\n    return get('/project/list', params)\r\n}\r\n\r\nexport function switchStatusProjectApi(data) {\r\n    return post('/project/switchstatus', data)\r\n}\r\n\r\nexport function detailProjectApi(params) {\r\n    return get('/project/detail', params)\r\n}\r\n\r\nexport function deleteProjectApi(data) {\r\n    return post('/project/delete', data)\r\n}\r\n\r\nexport function updateBuildScriptApi(data) {\r\n    return post('/project/buildscript', data)\r\n}\r\n\r\nexport function updateHookScriptApi(data) {\r\n    return post('/project/hookscript', data)\r\n}\r\n\r\nexport function updateDeployScriptApi(data) {\r\n    return post('/project/deployscript', data)\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',{attrs:{\"shadow\":\"never\"}},[_c('el-row',{staticClass:\"app-btn-group\"},[_c('el-col',{attrs:{\"span\":4}},[(_vm.$root.CheckPriv(_vm.$root.Priv.PROJECT_SPACE_NEW))?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"medium\",\"icon\":\"iconfont left small icon-add\"},on:{\"click\":_vm.openAddDialogHandler}},[_vm._v(_vm._s(_vm.$t('add_project_space')))]):_vm._e(),_vm._v(\"Â \\n            \")],1),_c('el-col',{attrs:{\"span\":6,\"offset\":14}},[_c('el-input',{attrs:{\"size\":\"medium\",\"placeholder\":_vm.$t('input_name_to_search')},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchHandler($event)}},model:{value:(_vm.searchInput),callback:function ($$v) {_vm.searchInput=$$v},expression:\"searchInput\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchHandler},slot:\"append\"})],1)],1)],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.tableLoading),expression:\"tableLoading\"}],staticClass:\"app-table\",attrs:{\"size\":\"medium\",\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":_vm.$t('project_space')},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('div',{staticClass:\"app-table-explain\"},[_c('h4',[_vm._v(_vm._s(scope.row.name))]),_c('p',{staticClass:\"app-description\"},[_vm._v(_vm._s(scope.row.description))])])}}])}),_c('el-table-column',{attrs:{\"label\":_vm.$t('operate'),\"width\":\"180\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.$root.CheckPriv(_vm.$root.Priv.PROJECT_SPACE_EDIT))?_c('el-button',{attrs:{\"icon\":\"el-icon-edit\",\"type\":\"text\"},on:{\"click\":function($event){_vm.openEditDialogHandler(scope.row)}}},[_vm._v(_vm._s(_vm.$t('edit')))]):_vm._e(),(_vm.$root.CheckPriv(_vm.$root.Priv.PROJECT_SPACE_DEL))?_c('el-button',{staticClass:\"app-danger\",attrs:{\"type\":\"text\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){_vm.deleteHandler(scope.row)}}},[_vm._v(_vm._s(_vm.$t('delete')))]):_vm._e()]}}])})],1),_c('el-pagination',{staticClass:\"app-pagination\",attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"current-page\":_vm.$root.Page,\"page-size\":_vm.$root.PageSize,\"total\":_vm.$root.Total},on:{\"current-change\":_vm.currentChangeHandler,\"update:currentPage\":function($event){_vm.$set(_vm.$root, \"Page\", $event)}}})],1),_c('el-dialog',{attrs:{\"width\":_vm.$root.DialogNormalWidth,\"title\":_vm.dialogTitle,\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event},\"close\":_vm.dialogCloseHandler}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.dialogLoading),expression:\"dialogLoading\"}],staticClass:\"app-dialog\"},[_c('el-form',{ref:\"dialogRef\",attrs:{\"model\":_vm.dialogForm,\"size\":\"medium\",\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('project_space_name'),\"prop\":\"name\",\"rules\":[\n                        { required: true, message: _vm.$t('name_cannot_empty'), trigger: 'blur'} ]}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.dialogForm.name),callback:function ($$v) {_vm.$set(_vm.dialogForm, \"name\", $$v)},expression:\"dialogForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":_vm.$t('description'),\"prop\":\"description\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":6,\"autocomplete\":\"off\"},model:{value:(_vm.dialogForm.description),callback:function ($$v) {_vm.$set(_vm.dialogForm, \"description\", $$v)},expression:\"dialogForm.description\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.dialogCloseHandler}},[_vm._v(_vm._s(_vm.$t('cancel')))]),_c('el-button',{attrs:{\"loading\":_vm.btnLoading,\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.dialogSubmitHandler}},[_vm._v(_vm._s(_vm.$t('enter')))])],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <el-card shadow=\"never\">\r\n            <el-row class=\"app-btn-group\">\r\n                <el-col :span=\"4\">\r\n                    <el-button v-if=\"$root.CheckPriv($root.Priv.PROJECT_SPACE_NEW)\" @click=\"openAddDialogHandler\" type=\"primary\" size=\"medium\" icon=\"iconfont left small icon-add\">{{ $t('add_project_space') }}</el-button>&nbsp;\r\n                </el-col>\r\n                <el-col :span=\"6\" :offset=\"14\">\r\n                    <el-input @keyup.enter.native=\"searchHandler\" v-model=\"searchInput\" size=\"medium\" :placeholder=\"$t('input_name_to_search')\">\r\n                        <el-button @click=\"searchHandler\" slot=\"append\" icon=\"el-icon-search\"></el-button>\r\n                    </el-input>\r\n                </el-col>\r\n            </el-row>\r\n            <el-table\r\n                class=\"app-table\"\r\n                size=\"medium\"\r\n                v-loading=\"tableLoading\"\r\n                :data=\"tableData\">\r\n                <el-table-column prop=\"name\" :label=\"$t('project_space')\">\r\n                    <div slot-scope=\"scope\" class=\"app-table-explain\">\r\n                        <h4>{{ scope.row.name }}</h4>\r\n                        <p class=\"app-description\">{{ scope.row.description }}</p>\r\n                    </div>\r\n                </el-table-column>\r\n                <el-table-column :label=\"$t('operate')\" width=\"180\" align=\"right\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button\r\n                        v-if=\"$root.CheckPriv($root.Priv.PROJECT_SPACE_EDIT)\"\r\n                        icon=\"el-icon-edit\"\r\n                        type=\"text\"\r\n                        @click=\"openEditDialogHandler(scope.row)\">{{ $t('edit') }}</el-button>\r\n                        <el-button\r\n                        v-if=\"$root.CheckPriv($root.Priv.PROJECT_SPACE_DEL)\"\r\n                        type=\"text\"\r\n                        icon=\"el-icon-delete\"\r\n                        class=\"app-danger\"\r\n                        @click=\"deleteHandler(scope.row)\">{{ $t('delete') }}</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <el-pagination\r\n                background\r\n                layout=\"prev, pager, next\"\r\n                class=\"app-pagination\"\r\n                @current-change=\"currentChangeHandler\"\r\n                :current-page.sync=\"$root.Page\"\r\n                :page-size=\"$root.PageSize\"\r\n                :total=\"$root.Total\">\r\n            </el-pagination>\r\n        </el-card>\r\n\r\n        <el-dialog :width=\"$root.DialogNormalWidth\" :title=\"dialogTitle\" :visible.sync=\"dialogVisible\" @close=\"dialogCloseHandler\">\r\n            <div class=\"app-dialog\" v-loading=\"dialogLoading\">\r\n                <el-form ref=\"dialogRef\" :model=\"dialogForm\" size=\"medium\" label-width=\"120px\">\r\n                    <el-form-item \r\n                        :label=\"$t('project_space_name')\"\r\n                        prop=\"name\"\r\n                        :rules=\"[\r\n                            { required: true, message: $t('name_cannot_empty'), trigger: 'blur'},\r\n                        ]\">\r\n                        <el-input v-model=\"dialogForm.name\" autocomplete=\"off\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item \r\n                        :label=\"$t('description')\"\r\n                        prop=\"description\">\r\n                        <el-input type=\"textarea\" :rows=\"6\" v-model=\"dialogForm.description\" autocomplete=\"off\"></el-input>\r\n                    </el-form-item>\r\n                </el-form>\r\n                <div slot=\"footer\" class=\"dialog-footer\">\r\n                    <el-button size=\"small\" @click=\"dialogCloseHandler\">{{ $t('cancel') }}</el-button>\r\n                    <el-button :loading=\"btnLoading\" size=\"small\" type=\"primary\" @click=\"dialogSubmitHandler\">{{ $t('enter') }}</el-button>\r\n                </div>\r\n            </div>\r\n        </el-dialog>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { updateSpaceApi, newSpaceApi, listSpaceApi, detailSpaceApi, deleteSpaceApi } from '@/api/project'\r\nexport default {\r\n    data() {\r\n        return {\r\n            searchInput: '',\r\n            dialogVisible: false,\r\n            dialogTitle: '',\r\n            dialogForm: {},\r\n            dialogLoading: false,\r\n            btnLoading: false,\r\n\r\n            tableData: [],\r\n            tableLoading: false,\r\n        }\r\n    },\r\n    methods: {\r\n        searchHandler() {\r\n            this.$root.PageInit()\r\n            this.loadTableData()\r\n        },\r\n        openAddDialogHandler() {\r\n            this.dialogVisible = true\r\n            this.dialogTitle = this.$t('add_project_space')\r\n        },\r\n        openEditDialogHandler(row) {\r\n            this.dialogVisible = true\r\n            this.dialogTitle = this.$t('edit_project_space_info')\r\n            this.dialogLoading = true\r\n            detailSpaceApi({id: row.id}).then(res => {\r\n                this.dialogLoading = false\r\n                this.dialogForm = res\r\n            }).catch(err => {\r\n                this.dialogCloseHandler()\r\n            })\r\n        },\r\n        dialogCloseHandler() {\r\n            this.dialogVisible = false\r\n            this.dialogLoading = false\r\n            this.btnLoading = false\r\n            this.$refs.dialogRef.resetFields();\r\n            this.dialogForm = {}\r\n        },\r\n        deleteHandler(row) {\r\n            this.$root.ConfirmDelete(() => {\r\n                deleteSpaceApi({id: row.id}).then(res => {\r\n                    this.$root.MessageSuccess()\r\n                    this.$root.PageReset()\r\n                    this.loadTableData()\r\n                })\r\n            })\r\n        },\r\n        currentChangeHandler() {\r\n            this.loadTableData()\r\n        },\r\n        dialogSubmitHandler() {\r\n            let vm = this\r\n            this.$refs.dialogRef.validate((valid) => {\r\n                if (!valid) {\r\n                    return false;\r\n                }\r\n                this.btnLoading = true\r\n                let opFn\r\n                if (this.dialogForm.id) {\r\n                    opFn = updateSpaceApi\r\n                } else {\r\n                    opFn = newSpaceApi\r\n                }\r\n                opFn(this.dialogForm).then(res => {\r\n                    this.$root.MessageSuccess(() => {\r\n                        this.dialogCloseHandler()\r\n                        this.btnLoading = false\r\n                        this.loadTableData()\r\n                    })\r\n                }).catch(err => {\r\n                    this.btnLoading = false\r\n                })\r\n            });\r\n        },\r\n        loadTableData() {\r\n            this.tableLoading = true\r\n            listSpaceApi({keyword: this.searchInput, offset: this.$root.PageOffset(), limit: this.$root.PageSize}).then(res => {\r\n                this.tableData = res.list\r\n                this.$root.Total = res.total\r\n                this.tableLoading = false\r\n            }).catch(err => {\r\n                this.tableLoading = false\r\n            })\r\n        }\r\n    },\r\n    mounted() {\r\n        this.$root.PageInit()\r\n        this.loadTableData()\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Space.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Space.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Space.vue?vue&type=template&id=27144802&\"\nimport script from \"./Space.vue?vue&type=script&lang=js&\"\nexport * from \"./Space.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Space.vue\"\nexport default component.exports"],"sourceRoot":""}