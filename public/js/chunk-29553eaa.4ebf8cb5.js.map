{"version":3,"sources":["webpack:///./src/view/user/Group.vue?17e4","webpack:///src/view/user/Group.vue","webpack:///./src/view/user/Group.vue?6df7","webpack:///./src/view/user/Group.vue","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./src/api/user.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","shadow","staticClass","span","$root","CheckPriv","Priv","USER_ROLE_NEW","type","size","icon","on","click","openAddDialogHandler","_v","_s","$t","_e","offset","placeholder","nativeOn","keyup","$event","_k","keyCode","key","searchHandler","model","value","callback","$$v","searchInput","expression","slot","directives","name","rawName","data","tableData","prop","label","width","align","scopedSlots","_u","fn","scope","USER_ROLE_EDIT","openEditDialogHandler","row","USER_ROLE_DEL","deleteHandler","background","layout","current-page","Page","page-size","PageSize","total","Total","current-change","currentChangeHandler","update:currentPage","$set","DialogNormalWidth","title","dialogTitle","visible","dialogVisible","update:visible","close","dialogCloseHandler","ref","dialogForm","label-width","rules","required","message","trigger","autocomplete","indeterminate","isIndeterminate","change","checkAllCheckHandler","privCheckAll","_l","privGroup","index","priv","loading","btnLoading","dialogSubmitHandler","staticRenderFns","Groupvue_type_script_lang_js_","id","privilege","dialogLoading","tableLoading","privilegeList","watch","dialogForm.privilege","val","checkedChange","methods","privList","forEach","items","p","push","checkAll","indexOf","length","PageInit","loadTableData","loadPrivList","_this","Object","user","then","res","catch","err","$refs","dialogRef","resetFields","_this2","ConfirmDelete","MessageSuccess","PageReset","_this3","validate","valid","opFn","_this4","keyword","PageOffset","limit","list","_this5","mounted","user_Groupvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","dP","__webpack_require__","f","FProto","Function","prototype","nameRE","NAME","configurable","get","match","e","d","privListApi","newRoleApi","listRoleApi","detailRoleApi","updateRoleApi","deleteRoleApi","newUserApi","updateUserApi","listUserApi","existsUserApi","detailUserApi","deleteUserApi","userSettingApi","userPasswordApi","_lib_fetch_js__WEBPACK_IMPORTED_MODULE_0__","post","params"],"mappings":"uHAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,WAA+BE,MAAA,CAAOC,OAAA,UAAkB,CAAAH,EAAA,UAAeI,YAAA,iBAA4B,CAAAJ,EAAA,UAAeE,MAAA,CAAOG,KAAA,IAAU,CAAAT,EAAAU,MAAAC,UAAAX,EAAAU,MAAAE,KAAAC,eAAAT,EAAA,aAAsEE,MAAA,CAAOQ,KAAA,UAAAC,KAAA,SAAAC,KAAA,gCAAuEC,GAAA,CAAKC,MAAAlB,EAAAmB,uBAAkC,CAAAnB,EAAAoB,GAAApB,EAAAqB,GAAArB,EAAAsB,GAAA,gBAAAtB,EAAAuB,KAAAvB,EAAAoB,GAAA,uBAAAhB,EAAA,UAA2FE,MAAA,CAAOG,KAAA,EAAAe,OAAA,KAAsB,CAAApB,EAAA,YAAiBE,MAAA,CAAOS,KAAA,SAAAU,YAAAzB,EAAAsB,GAAA,oCAAwEI,SAAA,CAAWC,MAAA,SAAAC,GAAyB,iBAAAA,IAAA5B,EAAA6B,GAAAD,EAAAE,QAAA,WAAAF,EAAAG,IAAA,SAA+F/B,EAAAgC,cAAAJ,GAAf,OAAiDK,MAAA,CAAQC,MAAAlC,EAAA,YAAAmC,SAAA,SAAAC,GAAiDpC,EAAAqC,YAAAD,GAAoBE,WAAA,gBAA2B,CAAAlC,EAAA,aAAkBE,MAAA,CAAOiC,KAAA,SAAAvB,KAAA,kBAAwCC,GAAA,CAAKC,MAAAlB,EAAAgC,eAA0BO,KAAA,YAAe,WAAAnC,EAAA,YAA6BoC,WAAA,EAAaC,KAAA,UAAAC,QAAA,YAAAR,MAAAlC,EAAA,aAAAsC,WAAA,iBAAsF9B,YAAA,YAAAF,MAAA,CAAiCS,KAAA,SAAA4B,KAAA3C,EAAA4C,YAAsC,CAAAxC,EAAA,mBAAwBE,MAAA,CAAOuC,KAAA,KAAAC,MAAA,KAAAC,MAAA,QAAuC3C,EAAA,mBAAwBE,MAAA,CAAOuC,KAAA,OAAAC,MAAA9C,EAAAsB,GAAA,WAAsClB,EAAA,mBAAwBE,MAAA,CAAOwC,MAAA9C,EAAAsB,GAAA,WAAAyB,MAAA,MAAAC,MAAA,SAAwDC,YAAAjD,EAAAkD,GAAA,EAAsBnB,IAAA,UAAAoB,GAAA,SAAAC,GAAiC,OAAApD,EAAAU,MAAAC,UAAAX,EAAAU,MAAAE,KAAAyC,gBAAAjD,EAAA,aAA6EE,MAAA,CAAOU,KAAA,eAAAF,KAAA,QAAoCG,GAAA,CAAKC,MAAA,SAAAU,GAAyB5B,EAAAsD,sBAAAF,EAAAG,QAAuC,CAAAvD,EAAAoB,GAAApB,EAAAqB,GAAArB,EAAAsB,GAAA,YAAAtB,EAAAuB,KAAAvB,EAAAU,MAAAC,UAAAX,EAAAU,MAAAE,KAAA4C,eAAApD,EAAA,aAAgHI,YAAA,aAAAF,MAAA,CAAgCQ,KAAA,OAAAE,KAAA,kBAAsCC,GAAA,CAAKC,MAAA,SAAAU,GAAyB5B,EAAAyD,cAAAL,EAAAG,QAA+B,CAAAvD,EAAAoB,GAAApB,EAAAqB,GAAArB,EAAAsB,GAAA,cAAAtB,EAAAuB,aAAmD,GAAAnB,EAAA,iBAA0BI,YAAA,iBAAAF,MAAA,CAAoCoD,WAAA,GAAAC,OAAA,oBAAAC,eAAA5D,EAAAU,MAAAmD,KAAAC,YAAA9D,EAAAU,MAAAqD,SAAAC,MAAAhE,EAAAU,MAAAuD,OAAkIhD,GAAA,CAAKiD,iBAAAlE,EAAAmE,qBAAAC,qBAAA,SAAAxC,GAAgF5B,EAAAqE,KAAArE,EAAAU,MAAA,OAAAkB,QAAsC,GAAAxB,EAAA,aAAsBE,MAAA,CAAOyC,MAAA/C,EAAAU,MAAA4D,kBAAAC,MAAAvE,EAAAwE,YAAAC,QAAAzE,EAAA0E,eAAwFzD,GAAA,CAAK0D,iBAAA,SAAA/C,GAAkC5B,EAAA0E,cAAA9C,GAAyBgD,MAAA5E,EAAA6E,qBAAiC,CAAAzE,EAAA,OAAYoC,WAAA,EAAaC,KAAA,UAAAC,QAAA,YAAAR,MAAAlC,EAAA,cAAAsC,WAAA,kBAAwF9B,YAAA,cAA2B,CAAAJ,EAAA,WAAgB0E,IAAA,YAAAxE,MAAA,CAAuB2B,MAAAjC,EAAA+E,WAAAhE,KAAA,SAAAiE,cAAA,SAA6D,CAAA5E,EAAA,gBAAqBE,MAAA,CAAOwC,MAAA9C,EAAAsB,GAAA,aAAAuB,KAAA,OAAAoC,MAAA,CAC3sF,CAAqBC,UAAA,EAAAC,QAAAnF,EAAAsB,GAAA,qBAAA8D,QAAA,WAA2E,CAAAhF,EAAA,YAAiBE,MAAA,CAAO+E,aAAA,OAAqBpD,MAAA,CAAQC,MAAAlC,EAAA+E,WAAA,KAAA5C,SAAA,SAAAC,GAAqDpC,EAAAqE,KAAArE,EAAA+E,WAAA,OAAA3C,IAAsCE,WAAA,sBAA+B,GAAAlC,EAAA,gBAAyBE,MAAA,CAAOwC,MAAA9C,EAAAsB,GAAA,qBAAAuB,KAAA,cAAwD,CAAAzC,EAAA,eAAoBE,MAAA,CAAOgF,cAAAtF,EAAAuF,iBAAoCtE,GAAA,CAAKuE,OAAAxF,EAAAyF,sBAAkCxD,MAAA,CAAQC,MAAAlC,EAAA,aAAAmC,SAAA,SAAAC,GAAkDpC,EAAA0F,aAAAtD,GAAqBE,WAAA,iBAA4B,CAAAtC,EAAAoB,GAAApB,EAAAqB,GAAArB,EAAAsB,GAAA,iBAAAlB,EAAA,qBAAgEI,YAAA,qBAAAyB,MAAA,CAAwCC,MAAAlC,EAAA+E,WAAA,UAAA5C,SAAA,SAAAC,GAA0DpC,EAAAqE,KAAArE,EAAA+E,WAAA,YAAA3C,IAA2CE,WAAA,yBAAoC,CAAAtC,EAAA2F,GAAA3F,EAAA,uBAAA4F,EAAAC,GAAuD,OAAAzF,EAAA,UAAqB2B,IAAA8D,EAAArF,YAAA,eAAoC,CAAAJ,EAAA,UAAeE,MAAA,CAAOG,KAAA,IAAU,CAAAL,EAAA,QAAaI,YAAA,aAAwB,CAAAR,EAAAoB,GAAApB,EAAAqB,GAAAuE,EAAA9C,YAAA1C,EAAA,UAAmDE,MAAA,CAAOG,KAAA,KAAWT,EAAA2F,GAAAC,EAAA,eAAAE,GAAyC,OAAA1F,EAAA,eAAyB2B,IAAA+D,EAAA5D,MAAA5B,MAAA,CAAsBwC,MAAAgD,EAAA5D,QAAoB,CAAAlC,EAAAoB,GAAApB,EAAAqB,GAAAyE,EAAAhD,YAA+B,WAAU,WAAA1C,EAAA,OAAwBI,YAAA,gBAAAF,MAAA,CAAmCiC,KAAA,UAAgBA,KAAA,UAAe,CAAAnC,EAAA,aAAkBE,MAAA,CAAOS,KAAA,SAAeE,GAAA,CAAKC,MAAAlB,EAAA6E,qBAAgC,CAAA7E,EAAAoB,GAAApB,EAAAqB,GAAArB,EAAAsB,GAAA,cAAAlB,EAAA,aAAqDE,MAAA,CAAOyF,QAAA/F,EAAAgG,WAAAjF,KAAA,QAAAD,KAAA,WAAyDG,GAAA,CAAKC,MAAAlB,EAAAiG,sBAAiC,CAAAjG,EAAAoB,GAAApB,EAAAqB,GAAArB,EAAAsB,GAAA,4BAC1/C4E,EAAA,qCCsFAC,EAAA,CACAxD,KADA,WAEA,OACAN,YAAA,GACAqC,eAAA,EACAF,YAAA,GACAO,WAAA,CACAqB,GAAA,EACA3D,KAAA,GACA4D,UAAA,IAEAC,eAAA,EACAN,YAAA,EAEApD,UAAA,GACA2D,cAAA,EAEAhB,iBAAA,EACAG,cAAA,EAEAc,cAAA,KAGAC,MAAA,CACAC,uBADA,SACAC,GACA1G,KAAA2G,cAAAD,KAGAE,QAAA,CACApB,qBADA,SACAkB,GACA,IAAAG,EAAA,GACAH,EACA1G,KAAAuG,cAAAO,QAAA,SAAAnB,GACAA,EAAAoB,MAAAD,QAAA,SAAAE,GACAH,EAAAI,KAAAD,EAAA/E,WAIA4E,EAAA,GAEA7G,KAAA8E,WAAAsB,UAAAS,EACA7G,KAAAsF,iBAAA,GAEAqB,cAfA,SAeAD,GACA1G,KAAAsF,iBAAA,EACA,IAAA4B,GAAA,EACAlH,KAAAuG,cAAAO,QAAA,SAAAnB,GACAA,EAAAoB,MAAAD,QAAA,SAAAE,IACA,GAAAN,EAAAS,QAAAH,EAAA/E,SACAiF,GAAA,OAIAA,EACAlH,KAAAyF,cAAA,GAEAzF,KAAAyF,cAAA,EACAiB,KAAAU,OAAA,EACApH,KAAAsF,iBAAA,EAEAtF,KAAAsF,iBAAA,IAIAvD,cApCA,WAqCA/B,KAAAS,MAAA4G,WACArH,KAAAsH,iBAEApG,qBAxCA,WAyCAlB,KAAAyE,eAAA,EACAzE,KAAAuH,eACAvH,KAAAuE,YAAAvE,KAAAqB,GAAA,aAEAgC,sBA7CA,SA6CAC,GAAA,IAAAkE,EAAAxH,KACAA,KAAAyE,eAAA,EACAzE,KAAAuH,eACAvH,KAAAuE,YAAAvE,KAAAqB,GAAA,kBACArB,KAAAqG,eAAA,EACAoB,OAAAC,EAAA,KAAAD,CAAA,CAAAtB,GAAA7C,EAAA6C,KAAAwB,KAAA,SAAAC,GACAJ,EAAAnB,eAAA,EACAmB,EAAA1C,WAAA,CACAqB,GAAAyB,EAAAzB,GACA3D,KAAAoF,EAAApF,KACA4D,UAAAwB,EAAAxB,UAAAwB,EAAAxB,UAAA,MAEAyB,MAAA,SAAAC,GACAN,EAAA5C,wBAGAA,mBA7DA,WA8DA5E,KAAAyE,eAAA,EACAzE,KAAAqG,eAAA,EACArG,KAAA+F,YAAA,EACA/F,KAAA+H,MAAAC,UAAAC,cACAjI,KAAA8E,WAAA,CACAqB,GAAA,EACA3D,KAAA,GACA4D,UAAA,KAGA5C,cAxEA,SAwEAF,GAAA,IAAA4E,EAAAlI,KACAA,KAAAS,MAAA0H,cAAA,WACAV,OAAAC,EAAA,KAAAD,CAAA,CAAAtB,GAAA7C,EAAA6C,KAAAwB,KAAA,SAAAC,GACAM,EAAAzH,MAAA2H,iBACAF,EAAAzH,MAAA4H,YACAH,EAAAZ,qBAIApD,qBAjFA,WAkFAlE,KAAAsH,iBAEAtB,oBApFA,WAoFA,IAAAsC,EAAAtI,KAEAA,KAAA+H,MAAAC,UAAAO,SAAA,SAAAC,GACA,IAAAA,EACA,SAGA,IAAAC,EADAH,EAAAvC,YAAA,EAGA0C,EADAH,EAAAxD,WAAAqB,GACAuB,EAAA,KAEAA,EAAA,KAEAe,EAAAH,EAAAxD,YAAA6C,KAAA,SAAAC,GACAU,EAAA7H,MAAA2H,eAAA,WACAE,EAAA1D,qBACA0D,EAAAvC,YAAA,EACAuC,EAAAhB,oBAEAO,MAAA,SAAAC,GACAQ,EAAAvC,YAAA,OAIAuB,cA5GA,WA4GA,IAAAoB,EAAA1I,KACAA,KAAAsG,cAAA,EACAmB,OAAAC,EAAA,KAAAD,CAAA,CAAAkB,QAAA3I,KAAAoC,YAAAb,OAAAvB,KAAAS,MAAAmI,aAAAC,MAAA7I,KAAAS,MAAAqD,WAAA6D,KAAA,SAAAC,GACAc,EAAA/F,UAAAiF,EAAAkB,KACAJ,EAAAjI,MAAAuD,MAAA4D,EAAA7D,MACA2E,EAAApC,cAAA,IACAuB,MAAA,SAAAC,GACAY,EAAApC,cAAA,KAGAiB,aAtHA,WAsHA,IAAAwB,EAAA/I,KACAyH,OAAAC,EAAA,KAAAD,GAAAE,KAAA,SAAAC,GACAmB,EAAAxC,cAAAqB,MAIAoB,QAxJA,WAyJAhJ,KAAAS,MAAA4G,WACArH,KAAAsH,kBClP8V2B,EAAA,cCO9VC,EAAgBzB,OAAA0B,EAAA,KAAA1B,CACdwB,EACAnJ,EACAmG,GACF,EACA,KACA,KACA,MAIAiD,EAAAE,QAAAC,OAAA,YACeC,EAAA,WAAAJ,kCCnBf,IAAAK,EAASC,EAAQ,QAAcC,EAC/BC,EAAAC,SAAAC,UACAC,EAAA,wBACAC,EAAA,OAGAA,KAAAJ,GAAkBF,EAAQ,SAAgBD,EAAAG,EAAAI,EAAA,CAC1CC,cAAA,EACAC,IAAA,WACA,IACA,UAAAhK,MAAAiK,MAAAJ,GAAA,GACK,MAAAK,GACL,gDCZAV,EAAAW,EAAAb,EAAA,sBAAAc,IAAAZ,EAAAW,EAAAb,EAAA,sBAAAe,IAAAb,EAAAW,EAAAb,EAAA,sBAAAgB,IAAAd,EAAAW,EAAAb,EAAA,sBAAAiB,IAAAf,EAAAW,EAAAb,EAAA,sBAAAkB,IAAAhB,EAAAW,EAAAb,EAAA,sBAAAmB,IAAAjB,EAAAW,EAAAb,EAAA,sBAAAoB,IAAAlB,EAAAW,EAAAb,EAAA,sBAAAqB,IAAAnB,EAAAW,EAAAb,EAAA,sBAAAsB,IAAApB,EAAAW,EAAAb,EAAA,sBAAAuB,IAAArB,EAAAW,EAAAb,EAAA,sBAAAwB,IAAAtB,EAAAW,EAAAb,EAAA,sBAAAyB,IAAAvB,EAAAW,EAAAb,EAAA,sBAAA0B,IAAAxB,EAAAW,EAAAb,EAAA,sBAAA2B,IAAA,IAAAC,EAAA1B,EAAA,QAEO,SAASY,IACZ,OAAOJ,eAAI,uBAGR,SAASK,EAAW3H,GACvB,OAAOyI,eAAK,iBAAkBzI,GAG3B,SAAS4H,EAAYc,GACxB,OAAOpB,eAAI,kBAAmBoB,GAG3B,SAASb,EAAca,GAC1B,OAAOpB,eAAI,oBAAqBoB,GAG7B,SAASZ,EAAc9H,GAC1B,OAAOyI,eAAK,oBAAqBzI,GAG9B,SAAS+H,EAAc/H,GAC1B,OAAOyI,eAAK,oBAAqBzI,GAG9B,SAASgI,EAAWhI,GACvB,OAAOyI,eAAK,YAAazI,GAGtB,SAASiI,EAAcjI,GAC1B,OAAOyI,eAAK,eAAgBzI,GAGzB,SAASkI,EAAYQ,GACxB,OAAOpB,eAAI,aAAcoB,GAGtB,SAASP,EAAcO,GAC1B,OAAOpB,eAAI,eAAgBoB,GAGxB,SAASN,EAAcM,GAC1B,OAAOpB,eAAI,eAAgBoB,GAGxB,SAASL,EAAcrI,GAC1B,OAAOyI,eAAK,eAAgBzI,GAGzB,SAASsI,EAAetI,GAC3B,OAAOyI,eAAK,mBAAoBzI,GAG7B,SAASuI,EAAgBvI,GAC5B,OAAOyI,eAAK,oBAAqBzI","file":"js/chunk-29553eaa.4ebf8cb5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',{attrs:{\"shadow\":\"never\"}},[_c('el-row',{staticClass:\"app-btn-group\"},[_c('el-col',{attrs:{\"span\":4}},[(_vm.$root.CheckPriv(_vm.$root.Priv.USER_ROLE_NEW))?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"medium\",\"icon\":\"iconfont left small icon-add\"},on:{\"click\":_vm.openAddDialogHandler}},[_vm._v(_vm._s(_vm.$t('add_role')))]):_vm._e(),_vm._v(\" \\n            \")],1),_c('el-col',{attrs:{\"span\":6,\"offset\":14}},[_c('el-input',{attrs:{\"size\":\"medium\",\"placeholder\":_vm.$t('please_input_keyword_id_or_name')},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchHandler($event)}},model:{value:(_vm.searchInput),callback:function ($$v) {_vm.searchInput=$$v},expression:\"searchInput\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchHandler},slot:\"append\"})],1)],1)],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.tableLoading),expression:\"tableLoading\"}],staticClass:\"app-table\",attrs:{\"size\":\"medium\",\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"ID\",\"width\":\"80\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":_vm.$t('name')}}),_c('el-table-column',{attrs:{\"label\":_vm.$t('operate'),\"width\":\"180\",\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.$root.CheckPriv(_vm.$root.Priv.USER_ROLE_EDIT))?_c('el-button',{attrs:{\"icon\":\"el-icon-edit\",\"type\":\"text\"},on:{\"click\":function($event){_vm.openEditDialogHandler(scope.row)}}},[_vm._v(_vm._s(_vm.$t('edit')))]):_vm._e(),(_vm.$root.CheckPriv(_vm.$root.Priv.USER_ROLE_DEL))?_c('el-button',{staticClass:\"app-danger\",attrs:{\"type\":\"text\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){_vm.deleteHandler(scope.row)}}},[_vm._v(_vm._s(_vm.$t('delete')))]):_vm._e()]}}])})],1),_c('el-pagination',{staticClass:\"app-pagination\",attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"current-page\":_vm.$root.Page,\"page-size\":_vm.$root.PageSize,\"total\":_vm.$root.Total},on:{\"current-change\":_vm.currentChangeHandler,\"update:currentPage\":function($event){_vm.$set(_vm.$root, \"Page\", $event)}}})],1),_c('el-dialog',{attrs:{\"width\":_vm.$root.DialogNormalWidth,\"title\":_vm.dialogTitle,\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event},\"close\":_vm.dialogCloseHandler}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.dialogLoading),expression:\"dialogLoading\"}],staticClass:\"app-dialog\"},[_c('el-form',{ref:\"dialogRef\",attrs:{\"model\":_vm.dialogForm,\"size\":\"medium\",\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('role_name'),\"prop\":\"name\",\"rules\":[\n                    { required: true, message: _vm.$t('name_cannot_empty'), trigger: 'blur'} ]}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.dialogForm.name),callback:function ($$v) {_vm.$set(_vm.dialogForm, \"name\", $$v)},expression:\"dialogForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":_vm.$t('privilege_setting'),\"prop\":\"privilege\"}},[_c('el-checkbox',{attrs:{\"indeterminate\":_vm.isIndeterminate},on:{\"change\":_vm.checkAllCheckHandler},model:{value:(_vm.privCheckAll),callback:function ($$v) {_vm.privCheckAll=$$v},expression:\"privCheckAll\"}},[_vm._v(_vm._s(_vm.$t('check_all')))]),_c('el-checkbox-group',{staticClass:\"app-checkbox-group\",model:{value:(_vm.dialogForm.privilege),callback:function ($$v) {_vm.$set(_vm.dialogForm, \"privilege\", $$v)},expression:\"dialogForm.privilege\"}},[_vm._l((_vm.privilegeList),function(privGroup,index){return [_c('el-row',{key:index,staticClass:\"app-mt-line\"},[_c('el-col',{attrs:{\"span\":3}},[_c('span',{staticClass:\"app-label\"},[_vm._v(_vm._s(privGroup.label))])]),_c('el-col',{attrs:{\"span\":21}},_vm._l((privGroup.items),function(priv){return _c('el-checkbox',{key:priv.value,attrs:{\"label\":priv.value}},[_vm._v(_vm._s(priv.label))])}),1)],1)]})],2)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.dialogCloseHandler}},[_vm._v(_vm._s(_vm.$t('cancel')))]),_c('el-button',{attrs:{\"loading\":_vm.btnLoading,\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.dialogSubmitHandler}},[_vm._v(_vm._s(_vm.$t('enter')))])],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <el-card shadow=\"never\">\n            <el-row class=\"app-btn-group\">\n                <el-col :span=\"4\">\n                    <el-button v-if=\"$root.CheckPriv($root.Priv.USER_ROLE_NEW)\" @click=\"openAddDialogHandler\" type=\"primary\" size=\"medium\" icon=\"iconfont left small icon-add\">{{ $t('add_role') }}</el-button>&nbsp;\n                </el-col>\n                <el-col :span=\"6\" :offset=\"14\">\n                    <el-input @keyup.enter.native=\"searchHandler\" v-model=\"searchInput\" size=\"medium\" :placeholder=\"$t('please_input_keyword_id_or_name')\">\n                        <el-button @click=\"searchHandler\" slot=\"append\" icon=\"el-icon-search\"></el-button>\n                    </el-input>\n                </el-col>\n            </el-row>\n            <el-table\n                class=\"app-table\"\n                size=\"medium\"\n                v-loading=\"tableLoading\"\n                :data=\"tableData\">\n                <el-table-column prop=\"id\" label=\"ID\" width=\"80\"></el-table-column>\n                <el-table-column prop=\"name\" :label=\"$t('name')\"></el-table-column>\n                <el-table-column :label=\"$t('operate')\" width=\"180\" align=\"right\">\n                    <template slot-scope=\"scope\">\n                        <el-button\n                        v-if=\"$root.CheckPriv($root.Priv.USER_ROLE_EDIT)\"\n                        icon=\"el-icon-edit\"\n                        type=\"text\"\n                        @click=\"openEditDialogHandler(scope.row)\">{{ $t('edit') }}</el-button>\n                        <el-button\n                        v-if=\"$root.CheckPriv($root.Priv.USER_ROLE_DEL)\"\n                        type=\"text\"\n                        icon=\"el-icon-delete\"\n                        class=\"app-danger\"\n                        @click=\"deleteHandler(scope.row)\">{{ $t('delete') }}</el-button>\n                    </template>\n                </el-table-column>\n            </el-table>\n            <el-pagination\n                background\n                layout=\"prev, pager, next\"\n                class=\"app-pagination\"\n                @current-change=\"currentChangeHandler\"\n                :current-page.sync=\"$root.Page\"\n                :page-size=\"$root.PageSize\"\n                :total=\"$root.Total\">\n            </el-pagination>\n        </el-card>\n\n        <el-dialog :width=\"$root.DialogNormalWidth\" :title=\"dialogTitle\" :visible.sync=\"dialogVisible\" @close=\"dialogCloseHandler\">\n            <div class=\"app-dialog\" v-loading=\"dialogLoading\">\n                <el-form ref=\"dialogRef\" :model=\"dialogForm\" size=\"medium\" label-width=\"80px\">\n                    <el-form-item \n                    :label=\"$t('role_name')\"\n                    prop=\"name\"\n                    :rules=\"[\n                        { required: true, message: $t('name_cannot_empty'), trigger: 'blur'},\n                    ]\">\n                        <el-input v-model=\"dialogForm.name\" autocomplete=\"off\"></el-input>\n                    </el-form-item>\n                    <el-form-item \n                    :label=\"$t('privilege_setting')\"\n                    prop=\"privilege\">\n                        <el-checkbox :indeterminate=\"isIndeterminate\" v-model=\"privCheckAll\" @change=\"checkAllCheckHandler\">{{ $t('check_all') }}</el-checkbox>\n                        <el-checkbox-group class=\"app-checkbox-group\" v-model=\"dialogForm.privilege\">\n                            <template v-for=\"(privGroup, index) in privilegeList\">\n                                <el-row :key=\"index\" class=\"app-mt-line\">\n                                    <el-col :span=\"3\">\n                                        <span class=\"app-label\">{{ privGroup.label }}</span>\n                                    </el-col>\n                                    <el-col :span=\"21\">\n                                        <el-checkbox v-for=\"priv in privGroup.items\" :label=\"priv.value\" :key=\"priv.value\">{{priv.label}}</el-checkbox>\n                                    </el-col>\n                                </el-row>\n                            </template>\n                        </el-checkbox-group>\n                    </el-form-item>\n                </el-form>\n                <div slot=\"footer\" class=\"dialog-footer\">\n                    <el-button size=\"small\" @click=\"dialogCloseHandler\">{{ $t('cancel') }}</el-button>\n                    <el-button :loading=\"btnLoading\" size=\"small\" type=\"primary\" @click=\"dialogSubmitHandler\">{{ $t('enter') }}</el-button>\n                </div>\n            </div>\n        </el-dialog>\n\n    </div>\n</template>\n\n<script>\nimport { privListApi, newRoleApi, listRoleApi, detailRoleApi, updateRoleApi, deleteRoleApi } from '@/api/user'\nexport default {\n    data() {\n        return {\n            searchInput: '',\n            dialogVisible: false,\n            dialogTitle: '',\n            dialogForm: {\n                id: 0,\n                name: '',\n                privilege: [],\n            },\n            dialogLoading: false,\n            btnLoading: false,\n\n            tableData: [],\n            tableLoading: false,\n\n            isIndeterminate: false,\n            privCheckAll: false,\n\n            privilegeList: [],\n        }\n    },\n    watch: {\n        'dialogForm.privilege'(val) {\n            this.checkedChange(val)\n        },\n    },\n    methods: {\n        checkAllCheckHandler(val) {\n            let privList = []\n            if (val) {\n                this.privilegeList.forEach(privGroup => {\n                    privGroup.items.forEach(p => {\n                        privList.push(p.value)\n                    })\n                })\n            } else {\n                privList = []\n            }\n            this.dialogForm.privilege = privList\n            this.isIndeterminate = false\n        },\n        checkedChange(val) {\n            this.isIndeterminate = false\n            let checkAll = true\n            this.privilegeList.forEach(privGroup => {\n                privGroup.items.forEach(p => {\n                    if (val.indexOf(p.value) == -1) {\n                        checkAll = false\n                    }\n                })\n            })\n            if (checkAll) {\n                this.privCheckAll = true\n            } else {\n                this.privCheckAll = false\n                if (val && val.length > 0) {\n                    this.isIndeterminate = true\n                } else {\n                    this.isIndeterminate = false\n                }\n            }\n        },\n        searchHandler() {\n            this.$root.PageInit()\n            this.loadTableData()\n        },\n        openAddDialogHandler() {\n            this.dialogVisible = true\n            this.loadPrivList()\n            this.dialogTitle = this.$t('add_role')\n        },\n        openEditDialogHandler(row) {\n            this.dialogVisible = true\n            this.loadPrivList()\n            this.dialogTitle = this.$t('edit_role_info')\n            this.dialogLoading = true\n            detailRoleApi({id: row.id}).then(res => {\n                this.dialogLoading = false\n                this.dialogForm = {\n                    id: res.id,\n                    name: res.name,\n                    privilege: res.privilege ? res.privilege : [],\n                }\n            }).catch(err => {\n                this.dialogCloseHandler()\n            })\n        },\n        dialogCloseHandler() {\n            this.dialogVisible = false\n            this.dialogLoading = false\n            this.btnLoading = false\n            this.$refs.dialogRef.resetFields();\n            this.dialogForm = {\n                id: 0,\n                name: '',\n                privilege: [],\n            }\n        },\n        deleteHandler(row) {\n            this.$root.ConfirmDelete(() => {\n                deleteRoleApi({id: row.id}).then(res => {\n                    this.$root.MessageSuccess()\n                    this.$root.PageReset()\n                    this.loadTableData()\n                })\n            })\n        },\n        currentChangeHandler() {\n            this.loadTableData()\n        },\n        dialogSubmitHandler() {\n            let vm = this\n            this.$refs.dialogRef.validate((valid) => {\n                if (!valid) {\n                    return false;\n                }\n                this.btnLoading = true\n                let opFn\n                if (this.dialogForm.id) {\n                    opFn = updateRoleApi\n                } else {\n                    opFn = newRoleApi\n                }\n                opFn(this.dialogForm).then(res => {\n                    this.$root.MessageSuccess(() => {\n                        this.dialogCloseHandler()\n                        this.btnLoading = false\n                        this.loadTableData()\n                    })\n                }).catch(err => {\n                    this.btnLoading = false\n                })\n            });\n        },\n        loadTableData() {\n            this.tableLoading = true\n            listRoleApi({keyword: this.searchInput, offset: this.$root.PageOffset(), limit: this.$root.PageSize}).then(res => {\n                this.tableData = res.list\n                this.$root.Total = res.total\n                this.tableLoading = false\n            }).catch(err => {\n                this.tableLoading = false\n            })\n        },\n        loadPrivList() {\n            privListApi().then(res => {\n                this.privilegeList = res\n            })\n        },\n    },\n    mounted() {\n        this.$root.PageInit()\n        this.loadTableData()\n    }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Group.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Group.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Group.vue?vue&type=template&id=7bc00868&\"\nimport script from \"./Group.vue?vue&type=script&lang=js&\"\nexport * from \"./Group.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Group.vue\"\nexport default component.exports","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","import {get, post} from '@/lib/fetch.js'\n\nexport function privListApi() {\n    return get('/user/role/privlist')\n}\n\nexport function newRoleApi(data) {\n    return post('/user/role/add', data)\n}\n\nexport function listRoleApi(params) {\n    return get('/user/role/list', params)\n}\n\nexport function detailRoleApi(params) {\n    return get('/user/role/detail', params)\n}\n\nexport function updateRoleApi(data) {\n    return post('/user/role/update', data)\n}\n\nexport function deleteRoleApi(data) {\n    return post('/user/role/delete', data)\n}\n\nexport function newUserApi(data) {\n    return post('/user/add', data)\n}\n\nexport function updateUserApi(data) {\n    return post('/user/update', data)\n}\n\nexport function listUserApi(params) {\n    return get('/user/list', params)\n}\n\nexport function existsUserApi(params) {\n    return get('/user/exists', params)\n}\n\nexport function detailUserApi(params) {\n    return get('/user/detail', params)\n}\n\nexport function deleteUserApi(data) {\n    return post('/user/delete', data)\n}\n\nexport function userSettingApi(data) {\n    return post('/user/my/setting', data)\n}\n\nexport function userPasswordApi(data) {\n    return post('/user/my/password', data)\n}"],"sourceRoot":""}