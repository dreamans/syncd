{"version":3,"sources":["webpack:///./src/view/Login.vue?d118","webpack:///./src/api/login.js","webpack:///./src/view/Login.vue?9f3b","webpack:///src/view/Login.vue","webpack:///./src/view/Login.vue?368a","webpack:///./src/view/Login.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_lang_scss_scope_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_lang_scss_scope_true___WEBPACK_IMPORTED_MODULE_0___default","n","d","__webpack_exports__","loginApi","loginStatusApi","logoutApi","_lib_fetch_js__WEBPACK_IMPORTED_MODULE_0__","data","post","get","render","_vm","this","_h","$createElement","_c","_self","staticClass","style","backgroundColor","bgColor","_v","_s","$t","ref","attrs","model","loginForm","rules","loginRules","size","nativeOn","keyup","$event","_k","keyCode","key","loginHandler","prop","placeholder","prefix-icon","autocomplete","value","callback","$$v","$set","expression","type","staticStyle","width","on","click","Date","getFullYear","href","target","staticRenderFns","Loginvue_type_script_lang_js_","loginLoadding","username","password","required","message","trigger","min","max","computed","alpha","Math","abs","getHours","concat","methods","_this","$refs","loginFormRef","validate","valid","postData","$root","Md5Sum","Object","login","then","res","SetLoginToken","token","$router","push","name","catch","err","code","CODE_ERR_LOGIN_FAILED","$message","error","view_Loginvue_type_script_lang_js_","component","componentNormalizer","options","__file"],"mappings":"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","file":"js/chunk-e3695f98.8ea916ba.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=scss&scope=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=scss&scope=true&\"","import {get, post} from '@/lib/fetch.js'\r\n\r\nexport function loginApi(data) {\r\n    return post('/login', data)\r\n}\r\n\r\nexport function loginStatusApi() {\r\n    return get(\"/login/status\")\r\n}\r\n\r\nexport function logoutApi() {\r\n    return post('/logout')\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-login\"},[_c('div',{staticClass:\"app-login-inner\",style:({backgroundColor: _vm.bgColor})},[_c('div',{staticClass:\"login-container\"},[_c('el-card',{staticClass:\"login-box\"},[_c('div',{staticClass:\"login-title\"},[_vm._v(_vm._s(_vm.$t('welcome_to_login_syncd')))]),_c('el-form',{ref:\"loginFormRef\",staticClass:\"login-form\",attrs:{\"model\":_vm.loginForm,\"rules\":_vm.loginRules,\"size\":\"medium\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.loginHandler($event)}}},[_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('el-input',{attrs:{\"placeholder\":_vm.$t('username_or_email'),\"prefix-icon\":\"iconfont icon-user\",\"autocomplete\":\"off\"},model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"placeholder\":_vm.$t('password'),\"prefix-icon\":\"iconfont icon-lock\",\"type\":\"password\",\"autocomplete\":\"off\"},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1),_c('el-form-item',[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.loginHandler}},[_vm._v(_vm._s(_vm.$t('login')))])],1)],1)],1)],1),_c('div',{staticClass:\"login-cpy\"},[_vm._v(\"\\n            ©️ \"+_vm._s(new Date().getFullYear())+\" \"),_c('a',{attrs:{\"href\":\"https://github.com/dreamans/syncd\",\"target\":\"_blank\"}},[_vm._v(\"Syncd\")]),_vm._v(\". All Rights Reserved. MIT License.\\n        \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"app-login\">\r\n        <div class=\"app-login-inner\" :style=\"{backgroundColor: bgColor}\">\r\n            <div class=\"login-container\">\r\n                <el-card class=\"login-box\">\r\n                    <div class=\"login-title\">{{ $t('welcome_to_login_syncd') }}</div>\r\n                    <el-form @keyup.enter.native=\"loginHandler\" ref=\"loginFormRef\" :model=\"loginForm\" :rules=\"loginRules\" size=\"medium\" class=\"login-form\">\r\n                        <el-form-item prop=\"username\">\r\n                            <el-input :placeholder=\"$t('username_or_email')\" prefix-icon=\"iconfont icon-user\" v-model=\"loginForm.username\" autocomplete=\"off\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item prop=\"password\">\r\n                            <el-input :placeholder=\"$t('password')\" prefix-icon=\"iconfont icon-lock\" type=\"password\" v-model=\"loginForm.password\" autocomplete=\"off\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item>\r\n                            <el-button @click=\"loginHandler\" type=\"primary\" style=\"width: 100%;\">{{ $t('login') }}</el-button>\r\n                        </el-form-item>\r\n                    </el-form>\r\n                </el-card>\r\n            </div>\r\n            <div class=\"login-cpy\">\r\n                ©️ {{ new Date().getFullYear() }} <a href=\"https://github.com/dreamans/syncd\" target=\"_blank\">Syncd</a>. All Rights Reserved. MIT License.\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { loginApi } from '@/api/login'\r\nimport Code from '@/lib/code'\r\nexport default {\r\n    data () {\r\n        return {\r\n            loginLoadding: false,\r\n            loginForm: {\r\n                username: \"\",\r\n                password: \"\",\r\n            },\r\n            loginRules: {\r\n                username: [{ required: true, message: this.$t('please_input_loginname'), trigger: 'blur' }],\r\n                password: [\r\n                    { required: true, message: this.$t('please_input_password'), trigger: 'blur' },\r\n                    { min: 6, max: 20, message: this.$t('strlen_between', {min: 6, max: 20}), trigger: 'blur' },\r\n                ],\r\n            },\r\n        }\r\n    },\r\n    computed: {\r\n        bgColor() {\r\n            let alpha = Math.min(Math.abs(new Date().getHours() - 12) / 10, 0.80)\r\n            return `rgba(0, 0, 0, ${alpha})`\r\n        },\r\n    },\r\n    methods: {\r\n        loginHandler() {\r\n            this.$refs.loginFormRef.validate((valid) => {\r\n                if (!valid) {\r\n                    return false\r\n                }\r\n                let postData = {\r\n                    username: this.loginForm.username,\r\n                    password: this.$root.Md5Sum(this.loginForm.password),\r\n                }\r\n                loginApi(postData).then(res => {\r\n                    this.$root.SetLoginToken(res.token)\r\n                    this.$router.push({name: 'dashboard'})\r\n                }).catch(err => {\r\n                    if (err.code && err.code == Code.CODE_ERR_LOGIN_FAILED) {\r\n                        this.$message.error('登录失败, 错误信息: ' + err.message);\r\n                    }\r\n                })\r\n            });\r\n        },\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scope>\r\n.app-login {\r\n    width: 100%;\r\n    height: 100%;\r\n    background-image: url('../asset/login_bg.jpg');\r\n    background-position: 50%;\r\n    background-size: cover;\r\n    .app-login-inner {\r\n        width: 100%;\r\n        height: 100%;\r\n    }\r\n    .login-container {\r\n        display: flex;\r\n        justify-content: center;\r\n        .login-box {\r\n            margin-top: 20vh;\r\n            width: 30vw;\r\n            .login-title {\r\n                font-weight: 500;\r\n                text-align: center;\r\n                font-size: 14px;\r\n                margin-bottom: 20px;\r\n            }\r\n        }\r\n    }\r\n    .login-cpy {\r\n        display: flex;\r\n        justify-content: center;\r\n        margin-top: 30px;\r\n        color: #fff;\r\n        a {\r\n            margin: 0 5px;\r\n            color: #fff;\r\n        }\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=602f978e&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&lang=scss&scope=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Login.vue\"\nexport default component.exports"],"sourceRoot":""}