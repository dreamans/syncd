{"version":3,"sources":["webpack:///./src/view/deploy/Release.vue?eb19","webpack:///src/view/deploy/Release.vue","webpack:///./src/view/deploy/Release.vue?df84","webpack:///./src/view/deploy/Release.vue","webpack:///./src/api/deploy.js","webpack:///./node_modules/core-js/modules/es6.function.name.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","shadow","slot","_v","deployDetail","status","$root","ApplyStatusNone","_e","ApplyStatusIng","_s","$t","ApplyStatusSuccess","ApplyStatusFailed","ApplyStatusRollback","gutter","span","applyDetail","name","projectDetail","deploy_mode","DeployModeBranch","branch_name","commit_version","username","email","FormatDateTime","ctime","is_rollback_apply","description","disabled","loading","buildDetail","size","icon","type","on","click","startBuildHandler","stopBuildHandler","start_time","FormatDateDuration","finish_time","isStopBuildLoading","BuildStatusStart","BuildStatusSuccess","BuildStatusFailed","openDialogBuildHandler","tar","startDeployHandler","stopDeployHandler","rollback_id","rollbackDeployHandler","title","show-icon","closable","rollback_status","$event","$router","push","query","id","rollback_apply_id","value","online_cluster_ids","_l","c","key","groupStatus","DeployGroupStatusNone","DeployGroupStatusStart","DeployGroupStatusSuccess","DeployGroupStatusFailed","s","ip","undefined","servers","openDialogDeployHandler","width","DialogNormalWidth","visible","dialogBuildVisible","update:visible","close","closeDialogBuildHandler","errmsg","cmd","index","class","app-color-success","success","app-color-error","stdout","stderr","dialogDeployVisible","closeDialogDeployHandler","serverDeployDetail","staticRenderFns","Releasevue_type_script_lang_js_","data","onlineCluster","serverDeploySid","watch","_this","clusters","forEach","cluster_list","cluster","server_list","group_id","$route.query","initPageLoader","computed","detail","srv","output","task","methods","vm","ConfirmDelete","msg","$message","message","iconClass","duration","Object","deploy","then","res","setTimeout","loadDeployStatus","initApplyDetail","sid","_this2","loadBuildStatus","_this3","_this4","catch","err","code","CODE_ERR_NO_DATA","$confirm","confirmButtonText","cancelButtonText","_this5","deployStatusDetail","task_list","content","error","_this6","_this7","_this8","project_id","$route","mounted","deploy_Releasevue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","__webpack_require__","d","applyProjectDetailApi","applySubmitApi","applyProjectAllApi","applyListApi","applyDetailApi","applyAuditApi","applyUpdateApi","applyDropApi","applyRollbackListApi","buildStartApi","buildStatusApi","buildStopApi","deployStart","deployStatusApi","deployStopApi","deployRollbackApi","_lib_fetch_js__WEBPACK_IMPORTED_MODULE_0__","params","get","post","dP","f","FProto","Function","prototype","nameRE","NAME","configurable","match","e"],"mappings":"yHAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,eAA0B,CAAAF,EAAA,WAAgBG,MAAA,CAAOC,OAAA,UAAkB,CAAAJ,EAAA,OAAYE,YAAA,WAAAC,MAAA,CAA8BE,KAAA,UAAgBA,KAAA,UAAe,CAAAL,EAAA,QAAAJ,EAAAU,GAAA,gDAAAV,EAAAW,aAAAC,QAAAZ,EAAAa,MAAAC,gBAAAV,EAAA,QAAAJ,EAAAU,GAAA,SAAAV,EAAAe,KAAAf,EAAAW,aAAAC,QAAAZ,EAAAa,MAAAG,eAAAZ,EAAA,QAAgOE,YAAA,kBAA6B,CAAAN,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,iBAAAlB,EAAAe,KAAAf,EAAAW,aAAAC,QAAAZ,EAAAa,MAAAM,mBAAAf,EAAA,QAAsHE,YAAA,qBAAgC,CAAAN,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,oBAAAlB,EAAAe,KAAAf,EAAAW,aAAAC,QAAAZ,EAAAa,MAAAO,kBAAAhB,EAAA,QAAwHE,YAAA,mBAA8B,CAAAN,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,qBAAAlB,EAAAe,KAAAf,EAAAW,aAAAC,QAAAZ,EAAAa,MAAAQ,oBAAAjB,EAAA,QAA2HE,YAAA,mBAA8B,CAAAN,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,gBAAAlB,EAAAe,SAAAX,EAAA,UAAiEG,MAAA,CAAOe,OAAA,KAAa,CAAAlB,EAAA,UAAeG,MAAA,CAAOgB,KAAA,KAAW,CAAAnB,EAAA,QAAaE,YAAA,YAAuB,CAAAN,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,uBAAAd,EAAA,QAAAJ,EAAAU,GAAAV,EAAAiB,GAAAhB,KAAAuB,YAAAC,WAAArB,EAAA,UAAgHG,MAAA,CAAOgB,KAAA,KAAW,CAAAnB,EAAA,QAAaE,YAAA,YAAuB,CAAAN,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,0BAAAd,EAAA,QAAAJ,EAAAU,GAAAV,EAAAiB,GAAAhB,KAAAyB,cAAAD,YAAA,GAAArB,EAAA,UAAyHE,YAAA,YAAAC,MAAA,CAA+Be,OAAA,KAAa,CAAAlB,EAAA,UAAeG,MAAA,CAAOgB,KAAA,KAAW,CAAAnB,EAAA,QAAaE,YAAA,YAAuB,CAAAN,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,uBAAAjB,KAAAyB,cAAAC,aAAA3B,EAAAa,MAAAe,iBAAAxB,EAAA,QAAAA,EAAA,KAAgIE,YAAA,yBAAmCN,EAAAU,GAAA,IAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,wBAAAlB,EAAAiB,GAAAjB,EAAAwB,YAAAK,aAAA,kBAAA7B,EAAAwB,YAAAM,eAAA,CAAA9B,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAwB,YAAAM,kBAAA,CAAA9B,EAAAU,GAAA,aAAAN,EAAA,QAAAA,EAAA,KAAqOE,YAAA,sBAAgCN,EAAAU,GAAA,IAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,qBAAAlB,EAAAiB,GAAAjB,EAAAwB,YAAAK,aAAA,0BAAAzB,EAAA,UAA2HG,MAAA,CAAOgB,KAAA,KAAW,CAAAnB,EAAA,QAAaE,YAAA,YAAuB,CAAAN,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,oBAAAd,EAAA,QAAAJ,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAwB,YAAAO,UAAA,MAAA/B,EAAAiB,GAAAjB,EAAAwB,YAAAQ,OAAA,MAAAhC,EAAAiB,GAAAjB,EAAAa,MAAAoB,eAAAjC,EAAAwB,YAAAU,cAAA,GAAA9B,EAAA,UAAsNE,YAAA,YAAAC,MAAA,CAA+Be,OAAA,KAAa,CAAAlB,EAAA,UAAeG,MAAA,CAAOgB,KAAA,KAAW,CAAAnB,EAAA,QAAaE,YAAA,YAAuB,CAAAN,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,sBAAAd,EAAA,QAAAJ,EAAAwB,YAAAW,kBAAA/B,EAAA,QAAmIE,YAAA,qBAAgC,CAAAN,EAAAU,GAAA,SAAnKN,EAAA,QAAAJ,EAAAU,GAAA,cAAmK,GAAAN,EAAA,UAAuCE,YAAA,YAAAC,MAAA,CAA+Be,OAAA,KAAa,CAAAlB,EAAA,UAAeG,MAAA,CAAOgB,KAAA,KAAW,CAAAnB,EAAA,QAAaE,YAAA,YAAuB,CAAAN,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,uBAAAd,EAAA,QAAAJ,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAwB,YAAAY,mBAAA,GAAAhC,EAAA,OAAuHE,YAAA,gBAA0BF,EAAA,OAAAJ,EAAAW,aAAAC,QAAAZ,EAAAa,MAAAC,iBAAAd,EAAAW,aAAAC,QAAAZ,EAAAa,MAAAG,gBAAAhB,EAAAW,aAAAC,QAAAZ,EAAAa,MAAAO,mBAAApB,EAAAwB,YAAAW,kBAA0rBnC,EAAAe,KAA1rB,CAAAX,EAAA,aAA6OG,MAAA,CAAO8B,SAAArC,EAAAW,aAAAC,QAAAZ,EAAAa,MAAAG,eAAAsB,QAAAtC,EAAAuC,YAAA3B,QAAAZ,EAAAa,MAAAC,gBAAA0B,KAAA,SAAAC,KAAA,iCAAAC,KAAA,WAAsMC,GAAA,CAAKC,MAAA5C,EAAA6C,oBAA+B,CAAA7C,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,aAAAlB,EAAAuC,YAAA3B,QAAAZ,EAAAa,MAAAC,gBAAAV,EAAA,aAA0GG,MAAA,CAAOiC,KAAA,SAAAE,KAAA,UAAAD,KAAA,iCAAwEE,GAAA,CAAKC,MAAA5C,EAAA8C,mBAA8B,CAAA9C,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,0BAAAlB,EAAAe,MAAAX,EAAA,UAAiFE,YAAA,YAAAC,MAAA,CAA+Be,OAAA,KAAa,CAAAlB,EAAA,UAAeG,MAAA,CAAOgB,KAAA,KAAW,CAAAnB,EAAA,QAAaE,YAAA,YAAuB,CAAAN,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,0BAAAlB,EAAAuC,YAAA,WAAAnC,EAAA,QAAAJ,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAa,MAAAoB,eAAAjC,EAAAuC,YAAAQ,gBAAA/C,EAAAe,KAAAf,EAAAuC,YAAA,YAAAnC,EAAA,QAAAJ,EAAAU,GAAA,MAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,mBAAAlB,EAAAiB,GAAAjB,EAAAa,MAAAmC,mBAAA,KAAAhD,EAAAuC,YAAAU,YAAAjD,EAAAuC,YAAAQ,iBAAA/C,EAAAe,OAAAX,EAAA,UAAiYG,MAAA,CAAOgB,KAAA,KAAW,CAAAnB,EAAA,QAAaE,YAAA,YAAuB,CAAAN,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,kBAAAd,EAAA,QAAAJ,EAAAkD,oBAAAlD,EAAAuC,YAAA3B,QAAAZ,EAAAa,MAAAsC,iBAAA/C,EAAA,QAAgJE,YAAA,qBAAgC,CAAAN,EAAAU,GAAA,iCAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,gDAAAlB,EAAAuC,YAAA3B,QAAAZ,EAAAa,MAAAsC,iBAAA/C,EAAA,QAA0KE,YAAA,kBAA6B,CAAAN,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,sBAAAlB,EAAAuC,YAAA3B,QAAAZ,EAAAa,MAAAuC,mBAAAhD,EAAA,QAAiHE,YAAA,qBAAgC,CAAAN,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,oBAAAlB,EAAAuC,YAAA3B,QAAAZ,EAAAa,MAAAwC,kBAAAjD,EAAA,QAA8GE,YAAA,mBAA8B,CAAAN,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,oBAAAd,EAAA,QAAAJ,EAAAU,GAAA,iCAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,oDAAAd,EAAA,UAA6KE,YAAA,YAAAC,MAAA,CAA+Be,OAAA,KAAa,CAAAlB,EAAA,UAAeG,MAAA,CAAOgB,KAAA,KAAW,CAAAnB,EAAA,QAAaE,YAAA,YAAuB,CAAAN,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,qBAAAd,EAAA,QAAAA,EAAA,QAAkEE,YAAA,WAAAqC,GAAA,CAA2BC,MAAA5C,EAAAsD,yBAAoC,CAAAtD,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,gBAAAd,EAAA,UAAoDG,MAAA,CAAOgB,KAAA,KAAW,CAAAnB,EAAA,QAAaE,YAAA,YAAuB,CAAAN,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,yBAAAlB,EAAAuC,YAAA,IAAAnC,EAAA,QAAAJ,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAuC,YAAAgB,QAAAnD,EAAA,QAAAJ,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,0BAAAd,EAAA,OAA2LE,YAAA,gBAA0BF,EAAA,OAAAJ,EAAAW,aAAAC,QAAAZ,EAAAa,MAAAC,iBAAAd,EAAAW,aAAAC,QAAAZ,EAAAa,MAAAG,eAAAZ,EAAA,aAA0IG,MAAA,CAAO+B,QAAAtC,EAAAW,aAAAC,QAAAZ,EAAAa,MAAAG,eAAAwB,KAAA,SAAAC,KAAA,gCAAAC,KAAA,WAAsIC,GAAA,CAAKC,MAAA5C,EAAAwD,qBAAgC,CAAAxD,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,cAAAlB,EAAAe,KAAAf,EAAAW,aAAAC,QAAAZ,EAAAa,MAAAO,kBAAAhB,EAAA,aAAuHG,MAAA,CAAO+B,QAAAtC,EAAAW,aAAAC,QAAAZ,EAAAa,MAAAG,eAAAwB,KAAA,SAAAC,KAAA,gCAAAC,KAAA,WAAsIC,GAAA,CAAKC,MAAA5C,EAAAwD,qBAAgC,CAAAxD,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,gBAAAlB,EAAAe,KAAAf,EAAAW,aAAAC,QAAAZ,EAAAa,MAAAG,eAAAZ,EAAA,aAAsHG,MAAA,CAAOiC,KAAA,SAAAC,KAAA,gCAAAC,KAAA,WAAwEC,GAAA,CAAKC,MAAA5C,EAAAyD,oBAA+B,CAAAzD,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,0BAAAlB,EAAAe,KAAAf,EAAAW,aAAAC,QAAAZ,EAAAa,MAAAM,oBAAAnB,EAAAW,aAAAC,QAAAZ,EAAAa,MAAAO,oBAAApB,EAAAwB,YAAAkC,YAA6e1D,EAAAe,KAA7e,CAAAX,EAAA,aAAgOG,MAAA,CAAOkC,KAAA,oCAAAD,KAAA,SAAAE,KAAA,UAA2EC,GAAA,CAAKC,MAAA5C,EAAA2D,wBAAmC,CAAA3D,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,gBAAAd,EAAA,YAAsDE,YAAA,YAAAC,MAAA,CAA+BqD,MAAA5D,EAAAkB,GAAA,6BAAAwB,KAAA,cAA8D1C,EAAAW,aAAAC,QAAAZ,EAAAa,MAAAQ,oBAAAjB,EAAA,OAAAA,EAAA,YAAgGE,YAAA,YAAAC,MAAA,CAA+BmC,KAAA,UAAAmB,YAAA,GAAAC,UAAA,IAAkD,CAAA1D,EAAA,YAAiBK,KAAA,SAAa,CAAAL,EAAA,UAAAJ,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,wBAAAlB,EAAAU,GAAA,4DAAAV,EAAAwB,YAAAuC,gBAAA3D,EAAA,UAAAJ,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,2BAAAlB,EAAAwB,YAAAuC,gBAAA3D,EAAA,UAAAJ,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,sBAAAlB,EAAAwB,YAAAuC,gBAAA3D,EAAA,UAAAJ,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,2BAAAlB,EAAAwB,YAAAuC,gBAAA3D,EAAA,UAAAJ,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,0BAAAlB,EAAAwB,YAAAuC,gBAAA3D,EAAA,UAAAJ,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,qBAAAd,EAAA,UAAAJ,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,uBAAAlB,EAAAU,GAAA,yDAAAN,EAAA,QAA4tBE,YAAA,WAAAqC,GAAA,CAA2BC,MAAA,SAAAoB,GAAyBhE,EAAAiE,QAAAC,KAAA,CAAkBC,MAAA,CAAQC,GAAApE,EAAAwB,YAAA6C,wBAA2C,CAAArE,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,8CAAAlB,EAAAe,KAAAf,EAAAwB,YAAA,kBAAApB,EAAA,OAAAA,EAAA,YAA2IE,YAAA,YAAAC,MAAA,CAA+BmC,KAAA,UAAAmB,YAAA,GAAAC,UAAA,IAAkD,CAAA1D,EAAA,YAAiBK,KAAA,SAAa,CAAAT,EAAAU,GAAA,6BAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,wBAAAd,EAAA,QAAuFE,YAAA,WAAAqC,GAAA,CAA2BC,MAAA,SAAAoB,GAAyBhE,EAAAiE,QAAAC,KAAA,CAAkBC,MAAA,CAAQC,GAAApE,EAAAwB,YAAA6C,wBAA2C,CAAArE,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,4BAAAlB,EAAAe,KAAAX,EAAA,WAA0EE,YAAA,8BAAAC,MAAA,CAAiDC,OAAA,UAAkB,CAAAJ,EAAA,OAAYG,MAAA,CAAOE,KAAA,UAAgBA,KAAA,UAAe,CAAAT,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,oBAAAd,EAAA,eAA6DG,MAAA,CAAO+D,MAAAtE,EAAA0B,cAAA6C,qBAA8CvE,EAAAwE,GAAAxE,EAAA,uBAAAyE,GAAwC,OAAArE,EAAA,oBAA8BsE,IAAAD,EAAAL,GAAA9D,YAAA,mBAAAC,MAAA,CAA+CkB,KAAAgD,EAAAL,KAAa,CAAAhE,EAAA,YAAiBK,KAAA,SAAa,CAAAL,EAAA,KAAUE,YAAA,qCAA+CN,EAAAU,GAAA,iCAAAV,EAAAiB,GAAAwD,EAAAhD,MAAA,oCAAAzB,EAAAW,aAAAgE,YAAAF,EAAAL,KAAApE,EAAAa,MAAA+D,sBAAAxE,EAAA,QAAgLE,YAAA,kBAA6B,CAAAF,EAAA,KAAUE,YAAA,kCAA4CN,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,mBAAAlB,EAAAW,aAAAgE,YAAAF,EAAAL,KAAApE,EAAAa,MAAAgE,uBAAAzE,EAAA,QAA8HE,YAAA,kBAA6B,CAAAF,EAAA,KAAUE,YAAA,6BAAuCN,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,iBAAAlB,EAAAW,aAAAgE,YAAAF,EAAAL,KAAApE,EAAAa,MAAAiE,yBAAA1E,EAAA,QAA8HE,YAAA,qBAAgC,CAAAF,EAAA,KAAUE,YAAA,qCAA+CN,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,sBAAAlB,EAAAW,aAAAgE,YAAAF,EAAAL,KAAApE,EAAAa,MAAAkE,wBAAA3E,EAAA,QAAkIE,YAAA,mBAA8B,CAAAF,EAAA,KAAUE,YAAA,oCAA8CN,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,qBAAAlB,EAAAe,OAAAf,EAAAwE,GAAAC,EAAA,iBAAAO,GAAsF,OAAA5E,EAAA,OAAiBsE,IAAAM,EAAAZ,GAAA9D,YAAA,YAAgC,CAAAF,EAAA,KAAUE,YAAA,oCAA8CN,EAAAU,GAAA,iCAAAV,EAAAiB,GAAA+D,EAAAC,IAAA,MAAAjF,EAAAiB,GAAA+D,EAAAvD,MAAA,uCAAAyD,GAAAlF,EAAAW,aAAAwE,QAAAH,EAAAZ,IAAAhE,EAAA,QAAAJ,EAAAW,aAAAwE,QAAAH,EAAAZ,IAAAxD,QAAAZ,EAAAa,MAAA+D,sBAAAxE,EAAA,QAA6PE,YAAA,kBAA6B,CAAAF,EAAA,KAAUE,YAAA,oCAA4CN,EAAAW,aAAAwE,QAAAH,EAAAZ,IAAAxD,QAAAZ,EAAAa,MAAAgE,uBAAAzE,EAAA,QAA2FE,YAAA,kBAA6B,CAAAF,EAAA,KAAUE,YAAA,6BAAuCF,EAAA,QAAaE,YAAA,WAAAqC,GAAA,CAA2BC,MAAA,SAAAoB,GAAyBhE,EAAAoF,wBAAAJ,EAAAZ,OAAoC,CAAApE,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,cAAAlB,EAAAW,aAAAwE,QAAAH,EAAAZ,IAAAxD,QAAAZ,EAAAa,MAAAiE,yBAAA1E,EAAA,QAA8HE,YAAA,qBAAgC,CAAAF,EAAA,KAAUE,YAAA,qCAA+CF,EAAA,QAAaE,YAAA,WAAAqC,GAAA,CAA2BC,MAAA,SAAAoB,GAAyBhE,EAAAoF,wBAAAJ,EAAAZ,OAAoC,CAAApE,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,cAAAlB,EAAAW,aAAAwE,QAAAH,EAAAZ,IAAAxD,QAAAZ,EAAAa,MAAAkE,wBAAA3E,EAAA,QAA6HE,YAAA,mBAA8B,CAAAF,EAAA,KAAUE,YAAA,oCAA8CF,EAAA,QAAaE,YAAA,WAAAqC,GAAA,CAA2BC,MAAA,SAAAoB,GAAyBhE,EAAAoF,wBAAAJ,EAAAZ,OAAoC,CAAApE,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,cAAAlB,EAAAe,UAAgD,KAAM,eAAAX,EAAA,aAAiCG,MAAA,CAAO8E,MAAArF,EAAAa,MAAAyE,kBAAA1B,MAAA5D,EAAAkB,GAAA,aAAAqE,QAAAvF,EAAAwF,oBAAiG7C,GAAA,CAAK8C,iBAAA,SAAAzB,GAAkChE,EAAAwF,mBAAAxB,GAA8B0B,MAAA1F,EAAA2F,0BAAsC,CAAA3F,EAAAuC,YAAA3B,QAAAZ,EAAAa,MAAAwC,kBAAAjD,EAAA,OAAAA,EAAA,KAA4EE,YAAA,oCAA8CN,EAAAU,GAAA,IAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,uBAAAlB,EAAAuC,YAAA,OAAAnC,EAAA,QAAsFE,YAAA,mBAA8B,CAAAN,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAuC,YAAAqD,WAAA5F,EAAAe,OAAAf,EAAAe,KAAAf,EAAAuC,YAAA3B,QAAAZ,EAAAa,MAAAuC,mBAAAhD,EAAA,OAAAA,EAAA,KAA0IE,YAAA,sCAAgDN,EAAAU,GAAA,IAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,oBAAAlB,EAAAe,KAAAf,EAAAuC,YAAA3B,QAAAZ,EAAAa,MAAAsC,iBAAA/C,EAAA,OAAAA,EAAA,KAAiIE,YAAA,gCAA0CN,EAAAU,GAAA,IAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,iBAAAlB,EAAAe,KAAAX,EAAA,OAA+DE,YAAA,oBAA+B,CAAAN,EAAAwE,GAAAxE,EAAAuC,YAAA,gBAAAsD,EAAAC,GAAsD,OAAA1F,EAAA,OAAkBsE,IAAAoB,GAAU,CAAA1F,EAAA,OAAYE,YAAA,eAAAyF,MAAA,CAAkCC,oBAAAH,EAAAI,QAAAC,mBAAAL,EAAAI,UAAoE,CAAAjG,EAAAU,GAAA,qCAAAV,EAAAiB,GAAA4E,OAAA,8BAAAA,EAAA,QAAAzF,EAAA,QAAqHE,YAAA,wBAAkCF,EAAA,QAAaE,YAAA,0BAAkCF,EAAA,OAAAA,EAAA,OAAAJ,EAAAU,GAAAV,EAAAiB,GAAA4E,EAAAM,aAAA/F,EAAA,OAAAA,EAAA,OAAAJ,EAAAU,GAAAV,EAAAiB,GAAA4E,EAAAO,kBAA6GpG,EAAAuC,YAAA3B,QAAAZ,EAAAa,MAAAsC,iBAAA/C,EAAA,KAAiEE,YAAA,oCAA8CN,EAAAe,MAAA,KAAAX,EAAA,aAAiCG,MAAA,CAAO8E,MAAArF,EAAAa,MAAAyE,kBAAA1B,MAAA5D,EAAAkB,GAAA,cAAAqE,QAAAvF,EAAAqG,qBAAmG1D,GAAA,CAAK8C,iBAAA,SAAAzB,GAAkChE,EAAAqG,oBAAArC,GAA+B0B,MAAA1F,EAAAsG,2BAAuC,CAAAtG,EAAAuG,mBAAA3F,QAAAZ,EAAAa,MAAAkE,wBAAA3E,EAAA,OAAAA,EAAA,KAAyFE,YAAA,oCAA8CN,EAAAU,GAAA,IAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,wBAAAlB,EAAAuG,mBAAA,OAAAnG,EAAA,QAA8FE,YAAA,mBAA8B,CAAAN,EAAAU,GAAAV,EAAAiB,GAAAjB,EAAAuG,mBAAAX,WAAA5F,EAAAe,OAAAf,EAAAe,KAAAf,EAAAuG,mBAAA3F,QAAAZ,EAAAa,MAAAiE,yBAAA1E,EAAA,OAAAA,EAAA,KAA8JE,YAAA,sCAAgDN,EAAAU,GAAA,IAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,sBAAAlB,EAAAe,KAAAf,EAAAuG,mBAAA3F,QAAAZ,EAAAa,MAAAgE,uBAAAzE,EAAA,OAAAA,EAAA,KAAgJE,YAAA,gCAA0CN,EAAAU,GAAA,IAAAV,EAAAiB,GAAAjB,EAAAkB,GAAA,iBAAAlB,EAAAe,KAAAX,EAAA,OAA+DE,YAAA,oBAA+B,CAAAN,EAAAwE,GAAAxE,EAAAuG,mBAAA,gBAAAV,EAAAC,GAA6D,OAAA1F,EAAA,OAAkBsE,IAAAoB,GAAU,CAAA1F,EAAA,OAAYE,YAAA,eAAAyF,MAAA,CAAkCC,oBAAAH,EAAAI,QAAAC,mBAAAL,EAAAI,UAAoE,CAAAjG,EAAAU,GAAA,qCAAAV,EAAAiB,GAAA4E,OAAA,8BAAAA,EAAA,QAAAzF,EAAA,QAAqHE,YAAA,wBAAkCF,EAAA,QAAaE,YAAA,0BAAkCF,EAAA,OAAAA,EAAA,OAAAJ,EAAAU,GAAAV,EAAAiB,GAAA4E,EAAAM,aAAA/F,EAAA,OAAAA,EAAA,OAAAJ,EAAAU,GAAAV,EAAAiB,GAAA4E,EAAAO,kBAA6G,GAAApG,EAAAuG,mBAAA3F,OAAAR,EAAA,KAA+CE,YAAA,oCAA8CN,EAAAe,MAAA,UAClrcyF,EAAA,iDCwNAC,EAAA,CACAC,KADA,WAEA,OACAtC,GAAA,EACA5C,YAAA,GACAE,cAAA,GACAa,YAAA,GACA5B,aAAA,GACA6E,oBAAA,EACAtC,oBAAA,EACAyD,cAAA,GAEAN,qBAAA,EACAO,gBAAA,IAGAC,MAAA,CACAnF,cADA,WACA,IAAAoF,EAAA7G,KACA8G,EAAA,GACA9G,KAAAyB,cAAA6C,mBAAAyC,QAAA,SAAA5C,GACA,GAAA0C,EAAApF,cAAAuF,aAAA7C,GAAA,CACA,IAAA8C,EAAAJ,EAAApF,cAAAuF,aAAA7C,GACAe,EAAA,GACA2B,EAAApF,cAAAyF,YAAAH,QAAA,SAAAhC,GACAA,EAAAoC,UAAAhD,GACAe,EAAAjB,KAAAc,KAGA+B,EAAA7C,KAAA,CACAE,GAAA8C,EAAA9C,GACA3C,KAAAyF,EAAAzF,KACA0D,eAIAlF,KAAA0G,cAAAI,GAEAM,eArBA,WAsBApH,KAAAqH,mBAGAC,SAAA,CACAhB,mBADA,WAEA,IAAAiB,EAAA,GACA,GAAAvH,KAAAU,aAAAwE,SAAAlF,KAAAU,aAAAwE,QAAAlF,KAAA2G,iBAAA,CACA,IAAAa,EAAAxH,KAAAU,aAAAwE,QAAAlF,KAAA2G,iBACAY,EAAA,CACA5G,OAAA6G,EAAA7G,OACAgF,OAAA6B,EAAA7B,OACA8B,OAAAD,EAAAE,MAGA,OAAAH,IAGAI,QAAA,CACAjE,sBADA,WAEA,IAAAkE,EAAA5H,KACAA,KAAAY,MAAAiH,cAAA,WACA,IAAAC,EAAAF,EAAAG,SAAA,CACAC,QAAAJ,EAAA3G,GAAA,qBACAwB,KAAA,OACAwF,UAAA,kBACAC,SAAA,IAEAC,OAAAC,EAAA,KAAAD,CAAA,CAAAhE,GAAAyD,EAAAzD,KAAAkE,KAAA,SAAAC,GACAC,WAAA,WACAX,EAAAY,mBACAZ,EAAAa,kBACAX,EAAArC,SACA,QAEAzF,KAAAiB,GAAA,6BAEAkE,wBAnBA,SAmBAuD,GACA1I,KAAA2G,gBAAA+B,EACA1I,KAAAoG,qBAAA,GAEAC,yBAvBA,WAwBArG,KAAAoG,qBAAA,GAEAV,wBA1BA,WA2BA1F,KAAAuF,oBAAA,GAEAlC,uBA7BA,WA8BArD,KAAAuF,oBAAA,GAEA3C,kBAhCA,WAgCA,IAAA+F,EAAA3I,KACAmI,OAAAC,EAAA,KAAAD,CAAA,CAAAhE,GAAAnE,KAAAmE,KAAAkE,KAAA,SAAAC,GACAK,EAAAC,qBAGA/F,iBArCA,WAqCA,IAAAgG,EAAA7I,KACAmI,OAAAC,EAAA,KAAAD,CAAA,CAAAhE,GAAAnE,KAAAmE,KAAAkE,KAAA,SAAAC,GACAO,EAAA5F,oBAAA,KAGAM,mBA1CA,WA0CA,IAAAuF,EAAA9I,KACAmI,OAAAC,EAAA,KAAAD,CAAA,CAAAhE,GAAAnE,KAAAmE,KAAAkE,KAAA,SAAAC,GACAQ,EAAAN,qBACAO,MAAA,SAAAC,GACAA,EAAAC,QAAA,KAAAC,kBACAJ,EAAAK,SAAAL,EAAA7H,GAAA,4BAAA6H,EAAA7H,GAAA,gBACAmI,kBAAAN,EAAA7H,GAAA,eACAoI,iBAAAP,EAAA7H,GAAA,WACAwB,KAAA,YACA4F,KAAA,WACAS,EAAAlG,sBACAmG,MAAA,iBAIAvF,kBAzDA,WAyDA,IAAA8F,EAAAtJ,KACAmI,OAAAC,EAAA,KAAAD,CAAA,CAAAhE,GAAAnE,KAAAmE,KAAAkE,KAAA,SAAAC,GACAgB,EAAAd,sBAGAe,mBA9DA,SA8DAhC,GACA,IAAA7C,EAAA,GACAQ,EAAA,GACAqC,EAAAiC,WACAjC,EAAAiC,UAAAzC,QAAA,SAAAW,GACAhD,EAAAgD,EAAAP,UAAAO,EAAA/G,OACA+G,EAAA+B,SACA/B,EAAA+B,QAAA1C,QAAA,SAAAS,GACAtC,EAAAsC,EAAArD,IAAA,CACAxD,OAAA6G,EAAA7G,OACAgF,OAAA6B,EAAAkC,MACAhC,KAAAF,EAAAE,KAAAF,EAAAE,KAAA,QAMA1H,KAAAU,aAAA,CACAC,OAAA4G,EAAA5G,OACA+D,cACAQ,YAGA0D,gBArFA,WAqFA,IAAAe,EAAA3J,KACAmI,OAAAC,EAAA,KAAAD,CAAA,CAAAhE,GAAAnE,KAAAmE,KAAAkE,KAAA,SAAAC,GAEA,GADAqB,EAAArH,YAAAgG,EACA,GAAAA,EAAA3H,OAAA,CACA,IAAAiH,EAAA+B,EACApB,WAAA,WACAX,EAAAgB,mBACA,UAEAe,EAAA1G,oBAAA,KAIAuF,iBAlGA,WAkGA,IAAAoB,EAAA5J,KACAmI,OAAAC,EAAA,KAAAD,CAAA,CAAAhE,GAAAnE,KAAAmE,KAAAkE,KAAA,SAAAC,GAEA,GADAsB,EAAAL,mBAAAjB,GACAA,EAAA3H,QAAAiJ,EAAAhJ,MAAAG,eAAA,CACA,IAAA6G,EAAAgC,EACArB,WAAA,WACAX,EAAAY,oBACA,SAIAC,gBA7GA,WA6GA,IAAAoB,EAAA7J,KACAmI,OAAAC,EAAA,KAAAD,CAAA,CAAAhE,GAAAnE,KAAAmE,KAAAkE,KAAA,SAAAC,GACAuB,EAAAtI,YAAA+G,EACAH,OAAAC,EAAA,KAAAD,CAAA,CAAAhE,GAAA0F,EAAAtI,YAAAuI,aAAAzB,KAAA,SAAAC,GACAuB,EAAApI,cAAA6G,OAIAjB,eArHA,WAsHArH,KAAAmE,GAAAnE,KAAA+J,OAAA7F,MAAAC,GACAnE,KAAAyI,kBACAzI,KAAA4I,kBACA5I,KAAAwI,qBAGAwB,QAnLA,WAoLAhK,KAAAqH,mBC7YgW4C,EAAA,cCOhWC,EAAgB/B,OAAAgC,EAAA,KAAAhC,CACd8B,EACAnK,EACAyG,GACF,EACA,KACA,KACA,MAIA2D,EAAAE,QAAAC,OAAA,cACeC,EAAA,WAAAJ,+CCnBfK,EAAAC,EAAAF,EAAA,sBAAAG,IAAAF,EAAAC,EAAAF,EAAA,sBAAAI,IAAAH,EAAAC,EAAAF,EAAA,sBAAAK,IAAAJ,EAAAC,EAAAF,EAAA,sBAAAM,IAAAL,EAAAC,EAAAF,EAAA,sBAAAO,IAAAN,EAAAC,EAAAF,EAAA,sBAAAQ,IAAAP,EAAAC,EAAAF,EAAA,sBAAAS,IAAAR,EAAAC,EAAAF,EAAA,sBAAAU,IAAAT,EAAAC,EAAAF,EAAA,sBAAAW,IAAAV,EAAAC,EAAAF,EAAA,sBAAAY,IAAAX,EAAAC,EAAAF,EAAA,sBAAAa,IAAAZ,EAAAC,EAAAF,EAAA,sBAAAc,IAAAb,EAAAC,EAAAF,EAAA,sBAAAe,IAAAd,EAAAC,EAAAF,EAAA,sBAAAgB,IAAAf,EAAAC,EAAAF,EAAA,sBAAAiB,IAAAhB,EAAAC,EAAAF,EAAA,sBAAAkB,IAAA,IAAAC,EAAAlB,EAAA,QAEO,SAASE,EAAsBiB,GAClC,OAAOC,eAAI,+BAAgCD,GAGxC,SAAShB,EAAejE,GAC3B,OAAOmF,eAAK,uBAAwBnF,GAGjC,SAASkE,IACZ,OAAOgB,eAAI,6BAGR,SAASf,EAAac,GACzB,OAAOC,eAAI,qBAAsBD,GAG9B,SAASb,EAAea,GAC3B,OAAOC,eAAI,uBAAwBD,GAGhC,SAASZ,EAAcrE,GAC1B,OAAOmF,eAAK,sBAAuBnF,GAGhC,SAASsE,EAAetE,GAC3B,OAAOmF,eAAK,uBAAwBnF,GAGjC,SAASuE,EAAavE,GACzB,OAAOmF,eAAK,qBAAsBnF,GAG/B,SAASwE,EAAqBS,GACjC,OAAOC,eAAI,6BAA8BD,GAGtC,SAASR,EAAczE,GAC1B,OAAOmF,eAAK,sBAAuBnF,GAGhC,SAAS0E,EAAeO,GAC3B,OAAOC,eAAI,uBAAwBD,GAGhC,SAASN,EAAa3E,GACzB,OAAOmF,eAAK,qBAAsBnF,GAG/B,SAAS4E,EAAY5E,GACxB,OAAOmF,eAAK,uBAAwBnF,GAGjC,SAAS6E,EAAgBI,GAC5B,OAAOC,eAAI,wBAAyBD,GAGjC,SAASH,EAAc9E,GAC1B,OAAOmF,eAAK,sBAAuBnF,GAGhC,SAAS+E,EAAkB/E,GAC9B,OAAOmF,eAAK,0BAA2BnF,4BC/D3C,IAAAoF,EAAStB,EAAQ,QAAcuB,EAC/BC,EAAAC,SAAAC,UACAC,EAAA,wBACAC,EAAA,OAGAA,KAAAJ,GAAkBxB,EAAQ,SAAgBsB,EAAAE,EAAAI,EAAA,CAC1CC,cAAA,EACAT,IAAA,WACA,IACA,UAAA3L,MAAAqM,MAAAH,GAAA,GACK,MAAAI,GACL","file":"js/chunk-a101e242.0f232132.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-release\"},[_c('el-card',{attrs:{\"shadow\":\"never\"}},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"\\n                部署发布单 - \\n                \"),(_vm.deployDetail.status == _vm.$root.ApplyStatusNone)?_c('span',[_vm._v(\"待上线\")]):_vm._e(),(_vm.deployDetail.status == _vm.$root.ApplyStatusIng)?_c('span',{staticClass:\"app-color-info\"},[_vm._v(_vm._s(_vm.$t('onlineing')))]):_vm._e(),(_vm.deployDetail.status == _vm.$root.ApplyStatusSuccess)?_c('span',{staticClass:\"app-color-success\"},[_vm._v(_vm._s(_vm.$t('have_onlined')))]):_vm._e(),(_vm.deployDetail.status == _vm.$root.ApplyStatusFailed)?_c('span',{staticClass:\"app-color-error\"},[_vm._v(_vm._s(_vm.$t('online_failed')))]):_vm._e(),(_vm.deployDetail.status == _vm.$root.ApplyStatusRollback)?_c('span',{staticClass:\"app-color-error\"},[_vm._v(_vm._s(_vm.$t('rollback')))]):_vm._e()])]),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":10}},[_c('span',{staticClass:\"sp-title\"},[_vm._v(_vm._s(_vm.$t('apply_order'))+\":\")]),_c('span',[_vm._v(_vm._s(this.applyDetail.name))])]),_c('el-col',{attrs:{\"span\":14}},[_c('span',{staticClass:\"sp-title\"},[_vm._v(_vm._s(_vm.$t('belong_project'))+\":\")]),_c('span',[_vm._v(_vm._s(this.projectDetail.name))])])],1),_c('el-row',{staticClass:\"app-mt-20\",attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":10}},[_c('span',{staticClass:\"sp-title\"},[_vm._v(_vm._s(_vm.$t('deploy_mode'))+\":\")]),(this.projectDetail.deploy_mode == _vm.$root.DeployModeBranch)?_c('span',[_c('i',{staticClass:\"iconfont icon-branch\"}),_vm._v(\" \"+_vm._s(_vm.$t('branch_deploy'))+\" - \"+_vm._s(_vm.applyDetail.branch_name)+\" - commit:\"),(_vm.applyDetail.commit_version != '')?[_vm._v(_vm._s(_vm.applyDetail.commit_version))]:[_vm._v(\"HEAD\")]],2):_c('span',[_c('i',{staticClass:\"iconfont icon-tag\"}),_vm._v(\" \"+_vm._s(_vm.$t('tag_deploy'))+\" - \"+_vm._s(_vm.applyDetail.branch_name)+\"\\n                \")])]),_c('el-col',{attrs:{\"span\":14}},[_c('span',{staticClass:\"sp-title\"},[_vm._v(_vm._s(_vm.$t('submiter'))+\":\")]),_c('span',[_vm._v(_vm._s(_vm.applyDetail.username)+\" - \"+_vm._s(_vm.applyDetail.email)+\" - \"+_vm._s(_vm.$root.FormatDateTime(_vm.applyDetail.ctime)))])])],1),_c('el-row',{staticClass:\"app-mt-20\",attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":16}},[_c('span',{staticClass:\"sp-title\"},[_vm._v(_vm._s(_vm.$t('apply_type'))+\":\")]),_c('span',[(!_vm.applyDetail.is_rollback_apply)?_c('span',[_vm._v(\"上线单\")]):_c('span',{staticClass:\"app-color-warning\"},[_vm._v(\"回滚单\")])])])],1),_c('el-row',{staticClass:\"app-mt-20\",attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":16}},[_c('span',{staticClass:\"sp-title\"},[_vm._v(_vm._s(_vm.$t('description'))+\":\")]),_c('span',[_vm._v(_vm._s(_vm.applyDetail.description))])])],1),_c('div',{staticClass:\"app-divider\"}),_c('div',[((_vm.deployDetail.status == _vm.$root.ApplyStatusNone || _vm.deployDetail.status == _vm.$root.ApplyStatusIng || _vm.deployDetail.status == _vm.$root.ApplyStatusFailed) && !_vm.applyDetail.is_rollback_apply)?[_c('el-button',{attrs:{\"disabled\":_vm.deployDetail.status == _vm.$root.ApplyStatusIng,\"loading\":_vm.buildDetail.status == _vm.$root.ApplyStatusNone,\"size\":\"medium\",\"icon\":\"iconfont small left icon-build\",\"type\":\"primary\"},on:{\"click\":_vm.startBuildHandler}},[_vm._v(_vm._s(_vm.$t('build')))]),(_vm.buildDetail.status == _vm.$root.ApplyStatusNone)?_c('el-button',{attrs:{\"size\":\"medium\",\"type\":\"warning\",\"icon\":\"iconfont small left icon-stop\"},on:{\"click\":_vm.stopBuildHandler}},[_vm._v(_vm._s(_vm.$t('forced_termination')))]):_vm._e()]:_vm._e(),_c('el-row',{staticClass:\"app-mt-20\",attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":10}},[_c('span',{staticClass:\"sp-title\"},[_vm._v(_vm._s(_vm.$t('last_buid_time'))+\":\")]),(_vm.buildDetail.start_time)?_c('span',[_vm._v(_vm._s(_vm.$root.FormatDateTime(_vm.buildDetail.start_time)))]):_vm._e(),(_vm.buildDetail.finish_time)?_c('span',[_vm._v(\" - \"+_vm._s(_vm.$t('cost_time'))+\": \"+_vm._s(_vm.$root.FormatDateDuration((_vm.buildDetail.finish_time-_vm.buildDetail.start_time) * 1000)))]):_vm._e()]),_c('el-col',{attrs:{\"span\":14}},[_c('span',{staticClass:\"sp-title\"},[_vm._v(_vm._s(_vm.$t('status'))+\":\")]),_c('span',[(_vm.isStopBuildLoading && _vm.buildDetail.status == _vm.$root.BuildStatusStart)?_c('span',{staticClass:\"app-color-warning\"},[_vm._v(\"\\n                            \"+_vm._s(_vm.$t('stopping'))+\"...\\n                        \")]):(_vm.buildDetail.status == _vm.$root.BuildStatusStart)?_c('span',{staticClass:\"app-color-info\"},[_vm._v(_vm._s(_vm.$t('building'))+\"...\")]):(_vm.buildDetail.status == _vm.$root.BuildStatusSuccess)?_c('span',{staticClass:\"app-color-success\"},[_vm._v(_vm._s(_vm.$t('build_finish')))]):(_vm.buildDetail.status == _vm.$root.BuildStatusFailed)?_c('span',{staticClass:\"app-color-error\"},[_vm._v(_vm._s(_vm.$t('build_failed')))]):_c('span',[_vm._v(\"\\n                            \"+_vm._s(_vm.$t('unbuild'))+\"\\n                        \")])])])],1),_c('el-row',{staticClass:\"app-mt-20\",attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":10}},[_c('span',{staticClass:\"sp-title\"},[_vm._v(_vm._s(_vm.$t('build_log'))+\":\")]),_c('span',[_c('span',{staticClass:\"app-link\",on:{\"click\":_vm.openDialogBuildHandler}},[_vm._v(_vm._s(_vm.$t('view')))])])]),_c('el-col',{attrs:{\"span\":14}},[_c('span',{staticClass:\"sp-title\"},[_vm._v(_vm._s(_vm.$t('tar_pack_path'))+\":\")]),(_vm.buildDetail.tar)?_c('span',[_vm._v(_vm._s(_vm.buildDetail.tar))]):_c('span',[_vm._v(_vm._s(_vm.$t('uncreate')))])])],1)],2),_c('div',{staticClass:\"app-divider\"}),_c('div',[(_vm.deployDetail.status == _vm.$root.ApplyStatusNone || _vm.deployDetail.status == _vm.$root.ApplyStatusIng)?_c('el-button',{attrs:{\"loading\":_vm.deployDetail.status == _vm.$root.ApplyStatusIng,\"size\":\"medium\",\"icon\":\"iconfont small left icon-send\",\"type\":\"primary\"},on:{\"click\":_vm.startDeployHandler}},[_vm._v(_vm._s(_vm.$t('deploy')))]):_vm._e(),(_vm.deployDetail.status == _vm.$root.ApplyStatusFailed)?_c('el-button',{attrs:{\"loading\":_vm.deployDetail.status == _vm.$root.ApplyStatusIng,\"size\":\"medium\",\"icon\":\"iconfont small left icon-send\",\"type\":\"primary\"},on:{\"click\":_vm.startDeployHandler}},[_vm._v(_vm._s(_vm.$t('redeploy')))]):_vm._e(),(_vm.deployDetail.status == _vm.$root.ApplyStatusIng)?_c('el-button',{attrs:{\"size\":\"medium\",\"icon\":\"iconfont small left icon-stop\",\"type\":\"warning\"},on:{\"click\":_vm.stopDeployHandler}},[_vm._v(_vm._s(_vm.$t('forced_termination')))]):_vm._e(),((_vm.deployDetail.status == _vm.$root.ApplyStatusSuccess || _vm.deployDetail.status == _vm.$root.ApplyStatusFailed) && _vm.applyDetail.rollback_id)?[_c('el-button',{attrs:{\"icon\":\"iconfont small left icon-rollback\",\"size\":\"medium\",\"type\":\"danger\"},on:{\"click\":_vm.rollbackDeployHandler}},[_vm._v(_vm._s(_vm.$t('rollback')))]),_c('el-alert',{staticClass:\"app-mt-10\",attrs:{\"title\":_vm.$t('rollback_apply_order_tips'),\"type\":\"warning\"}})]:_vm._e(),(_vm.deployDetail.status == _vm.$root.ApplyStatusRollback)?_c('div',[_c('el-alert',{staticClass:\"app-mt-10\",attrs:{\"type\":\"warning\",\"show-icon\":\"\",\"closable\":false}},[_c('template',{slot:\"title\"},[_c('strong',[_vm._v(_vm._s(_vm.$t('rollback_created')))]),_vm._v(\"\\n                        -\\n                        \"),(_vm.applyDetail.rollback_status == 1)?_c('strong',[_vm._v(_vm._s(_vm.$t('rollback_unstart')))]):(_vm.applyDetail.rollback_status == 2)?_c('strong',[_vm._v(_vm._s(_vm.$t('rollbacking')))]):(_vm.applyDetail.rollback_status == 3)?_c('strong',[_vm._v(_vm._s(_vm.$t('rollback_success')))]):(_vm.applyDetail.rollback_status == 4)?_c('strong',[_vm._v(_vm._s(_vm.$t('rollback_failed')))]):(_vm.applyDetail.rollback_status == 5)?_c('strong',[_vm._v(_vm._s(_vm.$t('rollback_drop')))]):_c('strong',[_vm._v(_vm._s(_vm.$t('rollback_unknow')))]),_vm._v(\"\\n                        -\\n                        \"),_c('span',{staticClass:\"app-link\",on:{\"click\":function($event){_vm.$router.push({query: {id: _vm.applyDetail.rollback_apply_id}})}}},[_vm._v(_vm._s(_vm.$t('click_to_view_rollback_order')))])])],2)],1):_vm._e(),(_vm.applyDetail.is_rollback_apply)?_c('div',[_c('el-alert',{staticClass:\"app-mt-10\",attrs:{\"type\":\"warning\",\"show-icon\":\"\",\"closable\":false}},[_c('template',{slot:\"title\"},[_vm._v(\"\\n                        \"+_vm._s(_vm.$t('rollback_tips'))+\", \"),_c('span',{staticClass:\"app-link\",on:{\"click\":function($event){_vm.$router.push({query: {id: _vm.applyDetail.rollback_apply_id}})}}},[_vm._v(_vm._s(_vm.$t('back_apply')))])])],2)],1):_vm._e(),_c('el-card',{staticClass:\"app-mt-20 app-cluster-group\",attrs:{\"shadow\":\"never\"}},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(_vm._s(_vm.$t('cluster_list')))]),_c('el-collapse',{attrs:{\"value\":_vm.projectDetail.online_cluster_ids}},_vm._l((_vm.onlineCluster),function(c){return _c('el-collapse-item',{key:c.id,staticClass:\"app-cluster-item\",attrs:{\"name\":c.id}},[_c('template',{slot:\"title\"},[_c('i',{staticClass:\"iconfont small left icon-cluster\"}),_vm._v(\"\\n                            \"+_vm._s(c.name)+\"  \\n                            \"),(_vm.deployDetail.groupStatus[c.id] == _vm.$root.DeployGroupStatusNone)?_c('span',{staticClass:\"app-color-gray\"},[_c('i',{staticClass:\"iconfont small left icon-wait\"}),_vm._v(_vm._s(_vm.$t('wait_deploy')))]):(_vm.deployDetail.groupStatus[c.id] == _vm.$root.DeployGroupStatusStart)?_c('span',{staticClass:\"app-color-info\"},[_c('i',{staticClass:\"iconfont el-icon-loading\"}),_vm._v(_vm._s(_vm.$t('deploying')))]):(_vm.deployDetail.groupStatus[c.id] == _vm.$root.DeployGroupStatusSuccess)?_c('span',{staticClass:\"app-color-success\"},[_c('i',{staticClass:\"iconfont small left icon-success\"}),_vm._v(_vm._s(_vm.$t('deploy_success')))]):(_vm.deployDetail.groupStatus[c.id] == _vm.$root.DeployGroupStatusFailed)?_c('span',{staticClass:\"app-color-error\"},[_c('i',{staticClass:\"iconfont small left icon-failed\"}),_vm._v(_vm._s(_vm.$t('deploy_failed')))]):_vm._e()]),_vm._l((c.servers),function(s){return _c('div',{key:s.id,staticClass:\"app-item\"},[_c('i',{staticClass:\"iconfont small left icon-server\"}),_vm._v(\"\\n                            \"+_vm._s(s.ip)+\" - \"+_vm._s(s.name)+\"\\n                            \"),(_vm.deployDetail.servers[s.id] == undefined)?_c('span'):(_vm.deployDetail.servers[s.id].status == _vm.$root.DeployGroupStatusNone)?_c('span',{staticClass:\"app-color-gray\"},[_c('i',{staticClass:\"iconfont small left icon-wait\"})]):(_vm.deployDetail.servers[s.id].status == _vm.$root.DeployGroupStatusStart)?_c('span',{staticClass:\"app-color-info\"},[_c('i',{staticClass:\"iconfont el-icon-loading\"}),_c('span',{staticClass:\"app-link\",on:{\"click\":function($event){_vm.openDialogDeployHandler(s.id)}}},[_vm._v(_vm._s(_vm.$t('view')))])]):(_vm.deployDetail.servers[s.id].status == _vm.$root.DeployGroupStatusSuccess)?_c('span',{staticClass:\"app-color-success\"},[_c('i',{staticClass:\"iconfont small left icon-success\"}),_c('span',{staticClass:\"app-link\",on:{\"click\":function($event){_vm.openDialogDeployHandler(s.id)}}},[_vm._v(_vm._s(_vm.$t('view')))])]):(_vm.deployDetail.servers[s.id].status == _vm.$root.DeployGroupStatusFailed)?_c('span',{staticClass:\"app-color-error\"},[_c('i',{staticClass:\"iconfont small left icon-failed\"}),_c('span',{staticClass:\"app-link\",on:{\"click\":function($event){_vm.openDialogDeployHandler(s.id)}}},[_vm._v(_vm._s(_vm.$t('view')))])]):_vm._e()])})],2)}),1)],1)],2)],1),_c('el-dialog',{attrs:{\"width\":_vm.$root.DialogNormalWidth,\"title\":_vm.$t('build_log'),\"visible\":_vm.dialogBuildVisible},on:{\"update:visible\":function($event){_vm.dialogBuildVisible=$event},\"close\":_vm.closeDialogBuildHandler}},[(_vm.buildDetail.status == _vm.$root.BuildStatusFailed)?_c('div',[_c('i',{staticClass:\"app-color-error el-icon-warning\"}),_vm._v(\" \"+_vm._s(_vm.$t('build_failed'))+\": \"),(_vm.buildDetail.errmsg)?_c('span',{staticClass:\"app-color-error\"},[_vm._v(_vm._s(_vm.buildDetail.errmsg))]):_vm._e()]):_vm._e(),(_vm.buildDetail.status == _vm.$root.BuildStatusSuccess)?_c('div',[_c('i',{staticClass:\"app-color-success el-icon-success\"}),_vm._v(\" \"+_vm._s(_vm.$t('build_finish')))]):_vm._e(),(_vm.buildDetail.status == _vm.$root.BuildStatusStart)?_c('div',[_c('i',{staticClass:\"app-color-info el-icon-info\"}),_vm._v(\" \"+_vm._s(_vm.$t('build_ing')))]):_vm._e(),_c('div',{staticClass:\"app-terminal-log\"},[_vm._l((_vm.buildDetail.output),function(cmd,index){return [_c('div',{key:index},[_c('div',{staticClass:\"terminal-cmd\",class:{ 'app-color-success': cmd.success, 'app-color-error': !cmd.success}},[_vm._v(\"\\n                        [cmd] $ \"+_vm._s(cmd.cmd)+\"\\n                        \"),(cmd.success)?_c('span',{staticClass:\"iconfont icon-right\"}):_c('span',{staticClass:\"iconfont icon-wrong\"})]),_c('div',[_c('pre',[_vm._v(_vm._s(cmd.stdout))])]),_c('div',[_c('pre',[_vm._v(_vm._s(cmd.stderr))])])])]}),(_vm.buildDetail.status == _vm.$root.BuildStatusStart)?_c('i',{staticClass:\"el-icon-loading app-color-white\"}):_vm._e()],2)]),_c('el-dialog',{attrs:{\"width\":_vm.$root.DialogNormalWidth,\"title\":_vm.$t('deploy_log'),\"visible\":_vm.dialogDeployVisible},on:{\"update:visible\":function($event){_vm.dialogDeployVisible=$event},\"close\":_vm.closeDialogDeployHandler}},[(_vm.serverDeployDetail.status == _vm.$root.DeployGroupStatusFailed)?_c('div',[_c('i',{staticClass:\"app-color-error el-icon-warning\"}),_vm._v(\" \"+_vm._s(_vm.$t('deploy_failed'))+\": \"),(_vm.serverDeployDetail.errmsg)?_c('span',{staticClass:\"app-color-error\"},[_vm._v(_vm._s(_vm.serverDeployDetail.errmsg))]):_vm._e()]):_vm._e(),(_vm.serverDeployDetail.status == _vm.$root.DeployGroupStatusSuccess)?_c('div',[_c('i',{staticClass:\"app-color-success el-icon-success\"}),_vm._v(\" \"+_vm._s(_vm.$t('deploy_success')))]):_vm._e(),(_vm.serverDeployDetail.status == _vm.$root.DeployGroupStatusStart)?_c('div',[_c('i',{staticClass:\"app-color-info el-icon-info\"}),_vm._v(\" \"+_vm._s(_vm.$t('deploying')))]):_vm._e(),_c('div',{staticClass:\"app-terminal-log\"},[_vm._l((_vm.serverDeployDetail.output),function(cmd,index){return [_c('div',{key:index},[_c('div',{staticClass:\"terminal-cmd\",class:{ 'app-color-success': cmd.success, 'app-color-error': !cmd.success}},[_vm._v(\"\\n                        [cmd] $ \"+_vm._s(cmd.cmd)+\"\\n                        \"),(cmd.success)?_c('span',{staticClass:\"iconfont icon-right\"}):_c('span',{staticClass:\"iconfont icon-wrong\"})]),_c('div',[_c('pre',[_vm._v(_vm._s(cmd.stdout))])]),_c('div',[_c('pre',[_vm._v(_vm._s(cmd.stderr))])])])]}),(_vm.serverDeployDetail.status == 1)?_c('i',{staticClass:\"el-icon-loading app-color-white\"}):_vm._e()],2)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"app-release\">\n        <el-card shadow=\"never\">\n            <div slot=\"header\" class=\"clearfix\">\n                <span>\n                    部署发布单 - \n                    <span v-if=\"deployDetail.status == $root.ApplyStatusNone\">待上线</span>\n                    <span v-if=\"deployDetail.status == $root.ApplyStatusIng\" class=\"app-color-info\">{{ $t('onlineing') }}</span>\n                    <span v-if=\"deployDetail.status == $root.ApplyStatusSuccess\" class=\"app-color-success\">{{ $t('have_onlined') }}</span>\n                    <span v-if=\"deployDetail.status == $root.ApplyStatusFailed\" class=\"app-color-error\">{{ $t('online_failed') }}</span>\n                    <span v-if=\"deployDetail.status == $root.ApplyStatusRollback\" class=\"app-color-error\">{{ $t('rollback') }}</span>\n                </span>\n            </div>\n            <!-- apply -->\n            <el-row :gutter=\"20\">\n                <el-col :span=\"10\">\n                    <span class=\"sp-title\">{{ $t('apply_order') }}:</span>\n                    <span>{{ this.applyDetail.name }}</span>\n                </el-col>\n                <el-col :span=\"14\">\n                    <span class=\"sp-title\">{{ $t('belong_project') }}:</span>\n                    <span>{{ this.projectDetail.name }}</span>\n                </el-col>\n            </el-row>\n            <el-row class=\"app-mt-20\" :gutter=\"20\">\n                <el-col :span=\"10\">\n                    <span class=\"sp-title\">{{ $t('deploy_mode') }}:</span>\n                    <span v-if=\"this.projectDetail.deploy_mode == $root.DeployModeBranch\">\n                        <i class=\"iconfont icon-branch\"></i> {{ $t('branch_deploy') }} - {{ applyDetail.branch_name }} - commit:<template v-if=\"applyDetail.commit_version != ''\">{{ applyDetail.commit_version }}</template><template v-else>HEAD</template>\n                    </span>\n                    <span v-else>\n                        <i class=\"iconfont icon-tag\"></i> {{ $t('tag_deploy') }} - {{ applyDetail.branch_name }}\n                    </span>\n                </el-col>\n                <el-col :span=\"14\">\n                    <span class=\"sp-title\">{{ $t('submiter') }}:</span>\n                    <span>{{ applyDetail.username }} - {{ applyDetail.email }} - {{ $root.FormatDateTime(applyDetail.ctime) }}</span>\n                </el-col>\n            </el-row>\n            <el-row class=\"app-mt-20\" :gutter=\"20\">\n                <el-col :span=\"16\">\n                    <span class=\"sp-title\">{{ $t('apply_type') }}:</span>\n                    <span>\n                        <span v-if=\"!applyDetail.is_rollback_apply\">上线单</span>\n                        <span class=\"app-color-warning\" v-else>回滚单</span>\n                    </span>\n                </el-col>\n            </el-row>\n            <el-row class=\"app-mt-20\" :gutter=\"20\">\n                <el-col :span=\"16\">\n                    <span class=\"sp-title\">{{ $t('description') }}:</span>\n                    <span>{{ applyDetail.description }}</span>\n                </el-col>\n            </el-row>\n            <div class=\"app-divider\"></div>\n            <!-- build -->\n            <div>\n                <template v-if=\"(deployDetail.status == $root.ApplyStatusNone || deployDetail.status == $root.ApplyStatusIng || deployDetail.status == $root.ApplyStatusFailed) && !applyDetail.is_rollback_apply\">\n                    <el-button :disabled=\"deployDetail.status == $root.ApplyStatusIng\" :loading=\"buildDetail.status == $root.ApplyStatusNone\" @click=\"startBuildHandler\" size=\"medium\" icon=\"iconfont small left icon-build\" type=\"primary\">{{ $t('build') }}</el-button>\n                    <el-button v-if=\"buildDetail.status == $root.ApplyStatusNone\" @click=\"stopBuildHandler\" size=\"medium\" type=\"warning\" icon=\"iconfont small left icon-stop\">{{ $t('forced_termination') }}</el-button>\n                </template>\n                <el-row class=\"app-mt-20\" :gutter=\"20\">\n                    <el-col :span=\"10\">\n                        <span class=\"sp-title\">{{ $t('last_buid_time') }}:</span>\n                        <span v-if=\"buildDetail.start_time\">{{ $root.FormatDateTime(buildDetail.start_time) }}</span>\n                        <span v-if=\"buildDetail.finish_time\"> - {{ $t('cost_time') }}: {{ $root.FormatDateDuration((buildDetail.finish_time-buildDetail.start_time) * 1000) }}</span>\n                    </el-col>\n                    <el-col :span=\"14\">\n                        <span class=\"sp-title\">{{ $t('status') }}:</span>\n                        <span>\n                            <span v-if=\"isStopBuildLoading && buildDetail.status == $root.BuildStatusStart\" class=\"app-color-warning\">\n                                {{ $t('stopping') }}...\n                            </span>\n                            <span v-else-if=\"buildDetail.status == $root.BuildStatusStart\" class=\"app-color-info\">{{ $t('building') }}...</span>\n                            <span v-else-if=\"buildDetail.status == $root.BuildStatusSuccess\" class=\"app-color-success\">{{ $t('build_finish') }}</span>\n                            <span v-else-if=\"buildDetail.status == $root.BuildStatusFailed\" class=\"app-color-error\">{{ $t('build_failed') }}</span>\n                            <span v-else>\n                                {{ $t('unbuild') }}\n                            </span>\n                        </span>\n                    </el-col>\n                </el-row>\n                <el-row class=\"app-mt-20\" :gutter=\"20\">\n                    <el-col :span=\"10\">\n                        <span class=\"sp-title\">{{ $t('build_log') }}:</span>\n                        <span>\n                            <span @click=\"openDialogBuildHandler\" class=\"app-link\">{{ $t('view') }}</span>\n                        </span>\n                    </el-col>\n                    <el-col :span=\"14\">\n                        <span class=\"sp-title\">{{ $t('tar_pack_path') }}:</span>\n                        <span v-if=\"buildDetail.tar\">{{ buildDetail.tar }}</span>\n                        <span v-else>{{ $t('uncreate') }}</span>\n                    </el-col>\n                </el-row>\n            </div>\n            <div class=\"app-divider\"></div>\n            <!-- deploy -->\n            <div>\n                <el-button v-if=\"deployDetail.status == $root.ApplyStatusNone || deployDetail.status == $root.ApplyStatusIng\" :loading=\"deployDetail.status == $root.ApplyStatusIng\" @click=\"startDeployHandler\" size=\"medium\" icon=\"iconfont small left icon-send\" type=\"primary\">{{ $t('deploy') }}</el-button>\n                <el-button v-if=\"deployDetail.status == $root.ApplyStatusFailed\" :loading=\"deployDetail.status == $root.ApplyStatusIng\" @click=\"startDeployHandler\" size=\"medium\" icon=\"iconfont small left icon-send\" type=\"primary\">{{ $t('redeploy') }}</el-button>\n                <el-button v-if=\"deployDetail.status == $root.ApplyStatusIng\" @click=\"stopDeployHandler\" size=\"medium\" icon=\"iconfont small left icon-stop\" type=\"warning\">{{ $t('forced_termination') }}</el-button>\n                <template v-if=\"(deployDetail.status == $root.ApplyStatusSuccess || deployDetail.status == $root.ApplyStatusFailed) && applyDetail.rollback_id\">\n                    <el-button icon=\"iconfont small left icon-rollback\" size=\"medium\" @click=\"rollbackDeployHandler\" type=\"danger\">{{ $t('rollback') }}</el-button>\n                    <el-alert class=\"app-mt-10\" :title=\"$t('rollback_apply_order_tips')\" type=\"warning\"></el-alert>\n                </template>\n                <div v-if=\"deployDetail.status == $root.ApplyStatusRollback\">\n                    <el-alert class=\"app-mt-10\" type=\"warning\" show-icon :closable=\"false\">\n                        <template slot=\"title\">\n                            <strong>{{ $t('rollback_created') }}</strong>\n                            -\n                            <strong v-if=\"applyDetail.rollback_status == 1\">{{ $t('rollback_unstart') }}</strong>\n                            <strong v-else-if=\"applyDetail.rollback_status == 2\">{{ $t('rollbacking') }}</strong>\n                            <strong v-else-if=\"applyDetail.rollback_status == 3\">{{ $t('rollback_success') }}</strong>\n                            <strong v-else-if=\"applyDetail.rollback_status == 4\">{{ $t('rollback_failed') }}</strong>\n                            <strong v-else-if=\"applyDetail.rollback_status == 5\">{{ $t('rollback_drop') }}</strong>\n                            <strong v-else>{{ $t('rollback_unknow') }}</strong>\n                            -\n                            <span class=\"app-link\" @click=\"$router.push({query: {id: applyDetail.rollback_apply_id}})\">{{ $t('click_to_view_rollback_order') }}</span>\n                        </template>\n                    </el-alert>\n                </div>\n                <div v-if=\"applyDetail.is_rollback_apply\">\n                    <el-alert class=\"app-mt-10\" type=\"warning\" show-icon :closable=\"false\">\n                        <template slot=\"title\">\n                            {{ $t('rollback_tips') }}, <span class=\"app-link\" @click=\"$router.push({query: {id: applyDetail.rollback_apply_id}})\">{{ $t('back_apply') }}</span>\n                        </template>\n                    </el-alert>\n                </div>\n                <el-card shadow=\"never\" class=\"app-mt-20 app-cluster-group\">\n                    <div slot=\"header\">{{ $t('cluster_list') }}</div>\n                    <el-collapse :value=\"projectDetail.online_cluster_ids\">\n                        <el-collapse-item class=\"app-cluster-item\" v-for=\"c in onlineCluster\" :name=\"c.id\" :key=\"c.id\">\n                            <template slot=\"title\">\n                                <i class=\"iconfont small left icon-cluster\"></i>\n                                {{ c.name }}&nbsp;&nbsp;\n                                <span v-if=\"deployDetail.groupStatus[c.id] == $root.DeployGroupStatusNone\" class=\"app-color-gray\"><i class=\"iconfont small left icon-wait\"></i>{{ $t('wait_deploy') }}</span>\n                                <span v-else-if=\"deployDetail.groupStatus[c.id] == $root.DeployGroupStatusStart\" class=\"app-color-info\"><i class=\"iconfont el-icon-loading\"></i>{{ $t('deploying') }}</span>\n                                <span v-else-if=\"deployDetail.groupStatus[c.id] == $root.DeployGroupStatusSuccess\" class=\"app-color-success\"><i class=\"iconfont small left icon-success\"></i>{{ $t('deploy_success') }}</span>\n                                <span v-else-if=\"deployDetail.groupStatus[c.id] == $root.DeployGroupStatusFailed\" class=\"app-color-error\"><i class=\"iconfont small left icon-failed\"></i>{{ $t('deploy_failed') }}</span>\n                            </template>\n                            <div class=\"app-item\" v-for=\"s in c.servers\" :key=\"s.id\">\n                                <i class=\"iconfont small left icon-server\"></i>\n                                {{ s.ip }} - {{ s.name }}\n                                <span v-if=\"deployDetail.servers[s.id] == undefined\"></span>\n                                <span v-else-if=\"deployDetail.servers[s.id].status == $root.DeployGroupStatusNone\" class=\"app-color-gray\"><i class=\"iconfont small left icon-wait\"></i></span>\n                                <span v-else-if=\"deployDetail.servers[s.id].status == $root.DeployGroupStatusStart\" class=\"app-color-info\"><i class=\"iconfont el-icon-loading\"></i> <span @click=\"openDialogDeployHandler(s.id)\" class=\"app-link\">{{ $t('view') }}</span></span>\n                                <span v-else-if=\"deployDetail.servers[s.id].status == $root.DeployGroupStatusSuccess\" class=\"app-color-success\"><i class=\"iconfont small left icon-success\"></i> <span @click=\"openDialogDeployHandler(s.id)\" class=\"app-link\">{{ $t('view') }}</span></span>\n                                <span v-else-if=\"deployDetail.servers[s.id].status == $root.DeployGroupStatusFailed\" class=\"app-color-error\"><i class=\"iconfont small left icon-failed\"></i> <span @click=\"openDialogDeployHandler(s.id)\" class=\"app-link\">{{ $t('view') }}</span></span>\n                            </div>\n                        </el-collapse-item>\n                    </el-collapse>\n                </el-card>\n            </div>\n        </el-card>\n        <el-dialog\n        :width=\"$root.DialogNormalWidth\"\n        :title=\"$t('build_log')\"\n        :visible.sync=\"dialogBuildVisible\"\n        @close=\"closeDialogBuildHandler\">\n            <div v-if=\"buildDetail.status == $root.BuildStatusFailed\"><i class=\"app-color-error el-icon-warning\"></i> {{ $t('build_failed') }}: <span v-if=\"buildDetail.errmsg\" class=\"app-color-error\">{{ buildDetail.errmsg }}</span></div>\n            <div v-if=\"buildDetail.status == $root.BuildStatusSuccess\"><i class=\"app-color-success el-icon-success\"></i> {{ $t('build_finish') }}</div>\n            <div v-if=\"buildDetail.status == $root.BuildStatusStart\"><i class=\"app-color-info el-icon-info\"></i> {{ $t('build_ing') }}</div>\n            <div class=\"app-terminal-log\">\n                <template v-for=\"(cmd, index) in buildDetail.output\">\n                    <div :key=\"index\">\n                        <div class=\"terminal-cmd\" :class=\"{ 'app-color-success': cmd.success, 'app-color-error': !cmd.success}\">\n                            [cmd] $ {{ cmd.cmd }}\n                            <span v-if=\"cmd.success\" class=\"iconfont icon-right\"></span>\n                            <span v-else class=\"iconfont icon-wrong\"></span>\n                        </div>\n                        <div><pre>{{ cmd.stdout }}</pre></div>\n                        <div><pre>{{ cmd.stderr }}</pre></div>\n                    </div>\n                </template>\n                <i v-if=\"buildDetail.status == $root.BuildStatusStart\" class=\"el-icon-loading app-color-white\"></i>\n            </div>\n        </el-dialog>\n\n        <el-dialog\n        :width=\"$root.DialogNormalWidth\"\n        :title=\"$t('deploy_log')\"\n        :visible.sync=\"dialogDeployVisible\"\n        @close=\"closeDialogDeployHandler\">\n            <div v-if=\"serverDeployDetail.status == $root.DeployGroupStatusFailed\"><i class=\"app-color-error el-icon-warning\"></i> {{ $t('deploy_failed') }}: <span v-if=\"serverDeployDetail.errmsg\" class=\"app-color-error\">{{ serverDeployDetail.errmsg }}</span></div>\n            <div v-if=\"serverDeployDetail.status == $root.DeployGroupStatusSuccess\"><i class=\"app-color-success el-icon-success\"></i> {{ $t('deploy_success') }}</div>\n            <div v-if=\"serverDeployDetail.status == $root.DeployGroupStatusStart\"><i class=\"app-color-info el-icon-info\"></i> {{ $t('deploying') }}</div>\n            <div class=\"app-terminal-log\">\n                <template v-for=\"(cmd, index) in serverDeployDetail.output\">\n                    <div :key=\"index\">\n                        <div class=\"terminal-cmd\" :class=\"{ 'app-color-success': cmd.success, 'app-color-error': !cmd.success}\">\n                            [cmd] $ {{ cmd.cmd }}\n                            <span v-if=\"cmd.success\" class=\"iconfont icon-right\"></span>\n                            <span v-else class=\"iconfont icon-wrong\"></span>\n                        </div>\n                        <div><pre>{{ cmd.stdout }}</pre></div>\n                        <div><pre>{{ cmd.stderr }}</pre></div>\n                    </div>\n                </template>\n                <i v-if=\"serverDeployDetail.status == 1\" class=\"el-icon-loading app-color-white\"></i>\n            </div>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\nimport { \n    applyDetailApi, \n    applyProjectDetailApi, \n    buildStartApi, \n    buildStatusApi, \n    buildStopApi, \n    deployStart, \n    deployStatusApi, \n    deployStopApi, \n    deployRollbackApi } from '@/api/deploy'\nimport Code from '@/lib/code'\nexport default {\n    data(){\n        return {\n            id: 0,\n            applyDetail: {},\n            projectDetail: {},\n            buildDetail: {},\n            deployDetail: {},\n            dialogBuildVisible: false,\n            isStopBuildLoading: false,\n            onlineCluster: {},\n\n            dialogDeployVisible: false,\n            serverDeploySid: 0,\n        }\n    },\n    watch: {\n        projectDetail() {\n            let clusters = []\n            this.projectDetail.online_cluster_ids.forEach(id => {\n                if (this.projectDetail.cluster_list[id]) {\n                    let cluster = this.projectDetail.cluster_list[id]\n                    let servers = []\n                    this.projectDetail.server_list.forEach(s => {\n                        if (s.group_id == id) {\n                            servers.push(s)\n                        }\n                    })\n                    clusters.push({\n                        id: cluster.id,\n                        name: cluster.name,\n                        servers: servers,\n                    })\n                }\n            })\n            this.onlineCluster = clusters\n        },\n        '$route.query'() {\n            this.initPageLoader()\n        },\n    },\n    computed: {\n        serverDeployDetail() {\n            let detail = {}\n            if (this.deployDetail.servers && this.deployDetail.servers[this.serverDeploySid]) {\n                let srv = this.deployDetail.servers[this.serverDeploySid]\n                detail = {\n                    status: srv.status,\n                    errmsg: srv.errmsg,\n                    output: srv.task,\n                }\n            }\n            return detail\n        },\n    },\n    methods: {\n        rollbackDeployHandler() {\n            let vm = this\n            this.$root.ConfirmDelete(function(){\n                let msg = vm.$message({\n                    message: vm.$t('rollback_creating'),\n                    type: 'info',\n                    iconClass: 'el-icon-loading',\n                    duration: 0,\n                })\n                deployRollbackApi({id: vm.id}).then(res => {\n                    setTimeout(() => {\n                        vm.loadDeployStatus()\n                        vm.initApplyDetail()\n                        msg.close()\n                    }, 1000)\n                })\n            }, this.$t('makesure_rollback_order'))\n        },\n        openDialogDeployHandler(sid) {\n            this.serverDeploySid = sid\n            this.dialogDeployVisible = true\n        },\n        closeDialogDeployHandler() {\n            this.dialogDeployVisible = false\n        },\n        closeDialogBuildHandler() {\n            this.dialogBuildVisible = false\n        },\n        openDialogBuildHandler() {\n            this.dialogBuildVisible = true\n        },\n        startBuildHandler() {\n            buildStartApi({id: this.id}).then(res => {\n                this.loadBuildStatus()\n            })\n        },\n        stopBuildHandler() {\n            buildStopApi({id: this.id}).then(res => {\n                this.isStopBuildLoading = true\n            })\n        },\n        startDeployHandler() {\n            deployStart({id: this.id}).then(res => {\n                this.loadDeployStatus()\n            }).catch(err => {\n                if (err.code == Code.CODE_ERR_NO_DATA) {\n                    this.$confirm(this.$t('build_success_and_deploy'), this.$t('deploy_tips'), {\n                        confirmButtonText: this.$t('start_build'),\n                        cancelButtonText: this.$t('i_known'),\n                        type: 'warning',\n                    }).then(() => {\n                        this.startBuildHandler()\n                    }).catch(() => { })\n                }\n            })\n        },\n        stopDeployHandler() {\n            deployStopApi({id: this.id}).then(res => {\n                this.loadDeployStatus()\n            })\n        },\n        deployStatusDetail(detail) {\n            let groupStatus = {}\n            let servers = {}\n            if (detail.task_list) {\n                detail.task_list.forEach(task => {\n                    groupStatus[task.group_id] = task.status\n                    if (task.content) {\n                        task.content.forEach(srv => {\n                            servers[srv.id] = {\n                                status: srv.status,\n                                errmsg: srv.error,\n                                task: srv.task ? srv.task : [],\n                            }\n                        })\n                    }\n                })\n            }\n            this.deployDetail = {\n                status: detail.status,\n                groupStatus: groupStatus,\n                servers: servers,\n            }\n        },\n        loadBuildStatus() {\n            buildStatusApi({id: this.id}).then(res => {\n                this.buildDetail = res\n                if (res.status == 1) {\n                    let vm = this\n                    setTimeout(function() {\n                        vm.loadBuildStatus()\n                    }, 5000)\n                } else {\n                    this.isStopBuildLoading = false\n                }\n            })\n        },\n        loadDeployStatus() {\n            deployStatusApi({id: this.id}).then(res => {\n                this.deployStatusDetail(res)\n                if (res.status == this.$root.ApplyStatusIng) {\n                    let vm = this\n                    setTimeout(function() {\n                        vm.loadDeployStatus()\n                    }, 5000)\n                }\n            })\n        },\n        initApplyDetail() {\n            applyDetailApi({id: this.id}).then(res => {\n                this.applyDetail = res\n                applyProjectDetailApi({id: this.applyDetail.project_id}).then(res => {\n                    this.projectDetail = res\n                })\n            })\n        },\n        initPageLoader() {\n            this.id = this.$route.query.id\n            this.initApplyDetail()\n            this.loadBuildStatus()\n            this.loadDeployStatus()\n        },\n    },\n    mounted() {\n        this.initPageLoader()\n    },\n}\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Release.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Release.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Release.vue?vue&type=template&id=558ab7fc&\"\nimport script from \"./Release.vue?vue&type=script&lang=js&\"\nexport * from \"./Release.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Release.vue\"\nexport default component.exports","import {get, post} from '@/lib/fetch.js'\n\nexport function applyProjectDetailApi(params) {\n    return get('/deploy/apply/project/detail', params)\n}\n\nexport function applySubmitApi(data) {\n    return post('/deploy/apply/submit', data)\n}\n\nexport function applyProjectAllApi() {\n    return get('/deploy/apply/project/all')\n}\n\nexport function applyListApi(params) {\n    return get('/deploy/apply/list', params)\n}\n\nexport function applyDetailApi(params) {\n    return get('/deploy/apply/detail', params)\n}\n\nexport function applyAuditApi(data) {\n    return post('/deploy/apply/audit', data)\n}\n\nexport function applyUpdateApi(data) {\n    return post('/deploy/apply/update', data)\n}\n\nexport function applyDropApi(data) {\n    return post('/deploy/apply/drop', data)\n}\n\nexport function applyRollbackListApi(params) {\n    return get('/deploy/apply/rollbacklist', params)\n}\n\nexport function buildStartApi(data) {\n    return post('/deploy/build/start', data)\n}\n\nexport function buildStatusApi(params) {\n    return get('/deploy/build/status', params)\n}\n\nexport function buildStopApi(data) {\n    return post('/deploy/build/stop', data)\n}\n\nexport function deployStart(data) {\n    return post('/deploy/deploy/start', data)\n}\n\nexport function deployStatusApi(params) {\n    return get('/deploy/deploy/status', params)\n}\n\nexport function deployStopApi(data) {\n    return post('/deploy/deploy/stop', data)\n}\n\nexport function deployRollbackApi(data) {\n    return post('/deploy/deploy/rollback', data)\n}","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n"],"sourceRoot":""}